import{h as e,aC as a,ab as l}from"./5O3QQFvq.js";import s from"./CfEVTL8J.js";import{_ as t,a as i,b as r,c as o,d as u}from"./ChHR6PEH.js";import{af as n,aa as d,ag as c,m,d as p,y as g,q as f,as as v,M as b,N as y,O as h,X as x,A as V,u as S,ac as _,ah as j,H as k,ai as q,a9 as w,a7 as I}from"./BOuGH_in.js";import"./CdLa0W2F.js";import"./W9tWEpzi.js";const L={slots:{root:"relative group *:not-first:!my-0 *:not-first:!static my-5",list:"relative flex items-center gap-1 border border-muted bg-default border-b-0 rounded-t-md overflow-x-auto p-2",indicator:"absolute left-0 inset-y-2 w-(--reka-tabs-indicator-size) translate-x-(--reka-tabs-indicator-position) transition-[translate,width] duration-200 bg-elevated rounded-md shadow-xs",trigger:["relative inline-flex items-center gap-1.5 text-default data-[state=active]:text-highlighted hover:bg-elevated/50 px-2 py-1.5 text-sm rounded-md disabled:cursor-not-allowed disabled:opacity-75 focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary focus:outline-none","transition-colors"],triggerIcon:"size-4 shrink-0",triggerLabel:"truncate"}},M={__name:"ProseCodeGroup",props:n({defaultValue:{type:String,required:!1,default:"0"},sync:{type:String,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},{modelValue:{type:String},modelModifiers:{}}),emits:["update:modelValue"],setup(n){const M=n,z=d(),C=c(n,"modelValue"),G=e(),P=m(()=>l({extend:l(L),...G.uiPro?.prose?.codeGroup||{}})()),$=p(1),A=m(()=>($.value,z.default?.()?.flatMap(B).filter(Boolean)||[]));function B(e,a){return"symbol"==typeof e.type?e.children?.map(B):{label:e.props?.filename||e.props?.label||`${a}`,icon:e.props?.icon,component:e}}return g(()=>{if(M.sync){const e=`code-group-${M.sync}`,l=a(e,()=>localStorage.getItem(e));f(l,()=>{l.value&&(C.value=l.value)},{immediate:!0}),f(C,()=>{C.value&&(l.value=C.value,localStorage.setItem(e,C.value))})}}),v(()=>$.value++),(e,a)=>(y(),b(S(r),{modelValue:C.value,"onUpdate:modelValue":a[0]||(a[0]=e=>C.value=e),"default-value":n.defaultValue,"unmount-on-hide":!1,class:_(P.value.root({class:[M.ui?.root,M.class]}))},{default:h(()=>[x(S(i),{class:_(P.value.list({class:M.ui?.list}))},{default:h(()=>[x(S(t),{class:_(P.value.indicator({class:M.ui?.indicator}))},null,8,["class"]),(y(!0),V(k,null,j(A.value,(e,a)=>(y(),b(S(o),{key:a,value:String(a),class:_(P.value.trigger({class:M.ui?.trigger}))},{default:h(()=>[x(s,{icon:e.icon,filename:e.label,class:_(P.value.triggerIcon({class:M.ui?.triggerIcon}))},null,8,["icon","filename","class"]),q("span",{class:_(P.value.triggerLabel({class:M.ui?.triggerLabel}))},w(e.label),3)]),_:2},1032,["value","class"]))),128))]),_:1},8,["class"]),(y(!0),V(k,null,j(A.value,(e,a)=>(y(),b(S(u),{key:a,value:String(a),"as-child":""},{default:h(()=>[(y(),b(I(e.component),{"hide-header":"",tabindex:"-1"}))]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","default-value","class"]))}};export{M as default};
