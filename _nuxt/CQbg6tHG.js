const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Ds2ACVtp.js","./TH1n2kb0.js","./5O3QQFvq.js","./BOuGH_in.js","./entry.B8R3Ctvx.css","./CQ1IkzWa.js","./B2_SnUFl.js","./BYGdo5BW.js","./l46fsARh.js","./CY0YvwoL.js","./C6YI4KwS.js","./LWN7Ml79.js","./Dc-GMe95.js","./BrQ7heqt.js","./D7Q2Yj56.js","./7S-v4t1x.js","./c2-Vhxho.js"])))=>i.map(i=>d[i]);
import{_ as e}from"./5O3QQFvq.js";import{getMdcConfigs as t}from"./C2JH2GXK.js";import"./BOuGH_in.js";function n(e){if(1!==[...e].length)throw new Error(`Expected "${e}" to be a single code point`);return e.codePointAt(0)}const r=new Set(["alnum","alpha","ascii","blank","cntrl","digit","graph","lower","print","punct","space","upper","word","xdigit"]),o=String.raw;function a(e,t){if(null==e)throw new Error(t??"Value expected");return e}const s=o`\[\^?`,i=`c.? | C(?:-.?)?|${o`[pP]\{(?:\^?[-\x20_]*[A-Za-z][-\x20\w]*\})?`}|${o`x[89A-Fa-f]\p{AHex}(?:\\x[89A-Fa-f]\p{AHex})*`}|${o`u(?:\p{AHex}{4})? | x\{[^\}]*\}? | x\p{AHex}{0,2}`}|${o`o\{[^\}]*\}?`}|${o`\d{1,3}`}`,u=/[?*+][?+]?|\{(?:\d+(?:,\d*)?|,\d+)\}\??/,c=new RegExp(o`
  \\ (?:
    ${i}
    | [gk]<[^>]*>?
    | [gk]'[^']*'?
    | .
  )
  | \( (?:
    \? (?:
      [:=!>({]
      | <[=!]
      | <[^>]*>
      | '[^']*'
      | ~\|?
      | #(?:[^)\\]|\\.?)*
      | [^:)]*[:)]
    )?
    | \*[^\)]*\)?
  )?
  | (?:${u.source})+
  | ${s}
  | .
`.replace(/\s+/g,""),"gsu"),l=new RegExp(o`
  \\ (?:
    ${i}
    | .
  )
  | \[:(?:\^?\p{Alpha}+|\^):\]
  | ${s}
  | &&
  | .
`.replace(/\s+/g,""),"gsu");function p(e,t={}){const r={flags:"",...t,rules:{captureGroup:!1,singleline:!1,...t.rules}};if("string"!=typeof e)throw new Error("String expected as pattern");const a=function(e){const t={ignoreCase:!1,dotAll:!1,extended:!1,digitIsAscii:!1,posixIsAscii:!1,spaceIsAscii:!1,wordIsAscii:!1,textSegmentMode:null};for(let n=0;n<e.length;n++){const r=e[n];if(!"imxDPSWy".includes(r))throw new Error(`Invalid flag "${r}"`);if("y"!==r)t[{i:"ignoreCase",m:"dotAll",x:"extended",D:"digitIsAscii",P:"posixIsAscii",S:"spaceIsAscii",W:"wordIsAscii"}[r]]=!0;else{if(!/^y{[gw]}/.test(e.slice(n)))throw new Error('Invalid or unspecified flag "y" mode');t.textSegmentMode="g"===e[n+2]?"grapheme":"word",n+=3}}return t}(r.flags),s=[a.extended],i={captureGroup:r.rules.captureGroup,getCurrentModX:()=>s.at(-1),numOpenGroups:0,popModX(){s.pop()},pushModX(e){s.push(e)},replaceCurrentModX(e){s[s.length-1]=e},singleline:r.rules.singleline};let u,l=[];for(c.lastIndex=0;u=c.exec(e);){const t=d(i,e,u[0],c.lastIndex);t.tokens?l.push(...t.tokens):t.token&&l.push(t.token),void 0!==t.lastIndex&&(c.lastIndex=t.lastIndex)}const p=[];let f=0;l.filter(e=>"GroupOpen"===e.type).forEach(e=>{"capturing"===e.kind?e.number=++f:"("===e.raw&&p.push(e)}),f||p.forEach((e,t)=>{e.kind="capturing",e.number=t+1});const h=f||p.length;return{tokens:l.map(e=>"EscapedNumber"===e.type?function(e,t){const{raw:r,inCharClass:a}=e,s=r.slice(1);if(!a&&("0"!==s&&1===s.length||"0"!==s[0]&&+s<=t))return[y(r)];const i=[],u=s.match(/^[0-7]+|\d/g);for(let c=0;c<u.length;c++){const e=u[c];let t;if(0===c&&"8"!==e&&"9"!==e){if(t=parseInt(e,8),t>127)throw new Error(o`Octal encoded byte above 177 unsupported "${r}"`)}else t=n(e);i.push(w(t,(0===c?"\\":"")+e))}return i}(e,h):e).flat(),flags:a}}function d(e,t,r,a){const[s,i]=r;if("["===r||"[^"===r){const e=function(e,t,n){const r=[C("^"===t[1],t)];let o,a=1;for(l.lastIndex=n;o=l.exec(e);){const e=o[0];if("["===e[0]&&":"!==e[1])a++,r.push(C("^"===e[1],e));else if("]"===e){if("CharacterClassOpen"===r.at(-1).type)r.push(w(93,e));else if(a--,r.push(b(e)),!a)break}else{const t=f(e);Array.isArray(t)?r.push(...t):r.push(t)}}return{tokens:r,lastIndex:l.lastIndex||e.length}}(t,r,a);return{tokens:e.tokens,lastIndex:e.lastIndex}}if("\\"===s){if("AbBGyYzZ".includes(i))return{token:m(r,r)};if(/^\\g[<']/.test(r)){if(!/^\\g(?:<[^>]+>|'[^']+')$/.test(r))throw new Error(`Invalid group name "${r}"`);return{token:A(r)}}if(/^\\k[<']/.test(r)){if(!/^\\k(?:<[^>]+>|'[^']+')$/.test(r))throw new Error(`Invalid group name "${r}"`);return{token:y(r)}}if("K"===i)return{token:x("keep",r)};if("N"===i||"R"===i)return{token:_("newline",r,{negate:"N"===i})};if("O"===i)return{token:_("any",r)};if("X"===i)return{token:_("text_segment",r)};const e=h(r,{inCharClass:!1});return Array.isArray(e)?{tokens:e}:{token:e}}if("("===s){if("*"===i)return{token:S(r)};if("(?{"===r)throw new Error(`Unsupported callout "${r}"`);if(r.startsWith("(?#")){if(")"!==t[a])throw new Error('Unclosed comment group "(?#"');return{lastIndex:a+1}}if(/^\(\?[-imx]+[:)]$/.test(r))return{token:v(r,e)};if(e.pushModX(e.getCurrentModX()),e.numOpenGroups++,"("===r&&!e.captureGroup||"(?:"===r)return{token:k("group",r)};if("(?>"===r)return{token:k("atomic",r)};if("(?="===r||"(?!"===r||"(?<="===r||"(?<!"===r)return{token:k("<"===r[2]?"lookbehind":"lookahead",r,{negate:r.endsWith("!")})};if("("===r&&e.captureGroup||r.startsWith("(?<")&&r.endsWith(">")||r.startsWith("(?'")&&r.endsWith("'"))return{token:k("capturing",r,{..."("!==r&&{name:r.slice(3,-1)}})};if(r.startsWith("(?~")){if("(?~|"===r)throw new Error(`Unsupported absence function kind "${r}"`);return{token:k("absence_repeater",r)}}throw"(?("===r?new Error(`Unsupported conditional "${r}"`):new Error(`Invalid or unsupported group option "${r}"`)}if(")"===r){if(e.popModX(),e.numOpenGroups--,e.numOpenGroups<0)throw new Error('Unmatched ")"');return{token:E(r)}}if(e.getCurrentModX()){if("#"===r){const e=t.indexOf("\n",a);return{lastIndex:-1===e?t.length:e}}if(/^\s$/.test(r)){const e=/\s+/y;return e.lastIndex=a,{lastIndex:e.exec(t)?e.lastIndex:a}}}if("."===r)return{token:_("dot",r)};if("^"===r||"$"===r){return{token:m(e.singleline?{"^":o`\A`,$:o`\Z`}[r]:r,r)}}return"|"===r?{token:g(r)}:u.test(r)?{tokens:N(r)}:{token:w(n(r),r)}}function f(e){if("\\"===e[0])return h(e,{inCharClass:!0});if("["===e[0]){const t=/\[:(?<negate>\^?)(?<name>[a-z]+):\]/.exec(e);if(!t||!r.has(t.groups.name))throw new Error(`Invalid POSIX class "${e}"`);return _("posix",e,{value:t.groups.name,negate:!!t.groups.negate})}return"-"===e?function(e){return{type:"CharacterClassHyphen",raw:e}}(e):"&&"===e?function(e){return{type:"CharacterClassIntersector",raw:e}}(e):w(n(e),e)}function h(e,{inCharClass:t}){const r=e[1];if("c"===r||"C"===r)return function(e){const t="c"===e[1]?e[2]:e[3];if(!t||!/[A-Za-z]/.test(t))throw new Error(`Unsupported control character "${e}"`);return w(n(t.toUpperCase())-64,e)}(e);if("dDhHsSwW".includes(r))return function(e){const t=e[1].toLowerCase();return _({d:"digit",h:"hex",s:"space",w:"word"}[t],e,{negate:e[1]!==t})}(e);if(e.startsWith(o`\o{`))throw new Error(`Incomplete, invalid, or unsupported octal code point "${e}"`);if(/^\\[pP]\{/.test(e)){if(3===e.length)throw new Error(`Incomplete or invalid Unicode property "${e}"`);return function(e){const{p:t,neg:n,value:r}=/^\\(?<p>[pP])\{(?<neg>\^?)(?<value>[^}]+)/.exec(e).groups;return _("property",e,{value:r,negate:"P"===t&&!n||"p"===t&&!!n})}(e)}if(new RegExp("^\\\\x[89A-Fa-f]\\p{AHex}","u").test(e))try{const t=e.split(/\\x/).slice(1).map(e=>parseInt(e,16)),r=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}).decode(new Uint8Array(t)),o=new TextEncoder;return[...r].map(e=>{const t=[...o.encode(e)].map(e=>`\\x${e.toString(16)}`).join("");return w(n(e),t)})}catch{throw new Error(`Multibyte code "${e}" incomplete or invalid in Oniguruma`)}if("u"===r||"x"===r)return w(function(e){if(new RegExp("^(?:\\\\u(?!\\p{AHex}{4})|\\\\x(?!\\p{AHex}{1,2}|\\{\\p{AHex}{1,8}\\}))","u").test(e))throw new Error(`Incomplete or invalid escape "${e}"`);const t="{"===e[2]?new RegExp("^\\\\x\\{\\s*(?<hex>\\p{AHex}+)","u").exec(e).groups.hex:e.slice(2);return parseInt(t,16)}(e),e);if(I.has(r))return w(I.get(r),e);if(/\d/.test(r))return function(e,t){return{type:"EscapedNumber",inCharClass:e,raw:t}}(t,e);if("\\"===e)throw new Error(o`Incomplete escape "\"`);if("M"===r)throw new Error(`Unsupported meta "${e}"`);if(2===[...e].length)return w(e.codePointAt(1),e);throw new Error(`Unexpected escape "${e}"`)}function g(e){return{type:"Alternator",raw:e}}function m(e,t){return{type:"Assertion",kind:e,raw:t}}function y(e){return{type:"Backreference",raw:e}}function w(e,t){return{type:"Character",value:e,raw:t}}function b(e){return{type:"CharacterClassClose",raw:e}}function C(e,t){return{type:"CharacterClassOpen",negate:e,raw:t}}function _(e,t,n={}){return{type:"CharacterSet",kind:e,...n,raw:t}}function x(e,t,n={}){return"keep"===e?{type:"Directive",kind:e,raw:t}:{type:"Directive",kind:e,flags:a(n.flags),raw:t}}function E(e){return{type:"GroupClose",raw:e}}function k(e,t,n={}){return{type:"GroupOpen",kind:e,...n,raw:t}}function A(e){return{type:"Subroutine",raw:e}}const $=new Set(["COUNT","CMP","ERROR","FAIL","MAX","MISMATCH","SKIP","TOTAL_COUNT"]),I=new Map([["a",7],["b",8],["e",27],["f",12],["n",10],["r",13],["t",9],["v",11]]);function v(e,t){let{on:n,off:r}=/^\(\?(?<on>[imx]*)(?:-(?<off>[-imx]*))?/.exec(e).groups;r??="";const o=(t.getCurrentModX()||n.includes("x"))&&!r.includes("x"),a=M(n),s=M(r),i={};if(a&&(i.enable=a),s&&(i.disable=s),e.endsWith(")"))return t.replaceCurrentModX(o),x("flags",e,{flags:i});if(e.endsWith(":"))return t.pushModX(o),t.numOpenGroups++,k("group",e,{...(a||s)&&{flags:i}});throw new Error(`Unexpected flag modifier "${e}"`)}function S(e){const t=/\(\*(?<name>[A-Za-z_]\w*)?(?:\[(?<tag>(?:[A-Za-z_]\w*)?)\])?(?:\{(?<args>[^}]*)\})?\)/.exec(e);if(!t)throw new Error(`Incomplete or invalid named callout "${e}"`);const{name:n,tag:r,args:o}=t.groups;if(!n)throw new Error(`Invalid named callout "${e}"`);if(""===r)throw new Error(`Named callout tag with empty value not allowed "${e}"`);const a=o?o.split(",").filter(e=>""!==e).map(e=>/^[+-]?\d+$/.test(e)?+e:e):[],[s,i,u]=a,c=$.has(n)?n.toLowerCase():"custom";switch(c){case"fail":case"mismatch":case"skip":if(a.length>0)throw new Error(`Named callout arguments not allowed "${a}"`);break;case"error":if(a.length>1)throw new Error(`Named callout allows only one argument "${a}"`);if("string"==typeof s)throw new Error(`Named callout argument must be a number "${s}"`);break;case"max":if(!a.length||a.length>2)throw new Error(`Named callout must have one or two arguments "${a}"`);if("string"==typeof s&&!/^[A-Za-z_]\w*$/.test(s))throw new Error(`Named callout argument one must be a tag or number "${s}"`);if(2===a.length&&("number"==typeof i||!/^[<>X]$/.test(i)))throw new Error(`Named callout optional argument two must be '<', '>', or 'X' "${i}"`);break;case"count":case"total_count":if(a.length>1)throw new Error(`Named callout allows only one argument "${a}"`);if(1===a.length&&("number"==typeof s||!/^[<>X]$/.test(s)))throw new Error(`Named callout optional argument must be '<', '>', or 'X' "${s}"`);break;case"cmp":if(3!==a.length)throw new Error(`Named callout must have three arguments "${a}"`);if("string"==typeof s&&!/^[A-Za-z_]\w*$/.test(s))throw new Error(`Named callout argument one must be a tag or number "${s}"`);if("number"==typeof i||!/^(?:[<>!=]=|[<>])$/.test(i))throw new Error(`Named callout argument two must be '==', '!=', '>', '<', '>=', or '<=' "${i}"`);if("string"==typeof u&&!/^[A-Za-z_]\w*$/.test(u))throw new Error(`Named callout argument three must be a tag or number "${u}"`);break;case"custom":throw new Error(`Undefined callout name "${n}"`);default:throw new Error(`Unexpected named callout kind "${c}"`)}return function(e,t,n,r){return{type:"NamedCallout",kind:e,tag:t,arguments:n,raw:r}}(c,r??null,o?.split(",")??null,e)}function L(e){let t,n,r=null;if("{"===e[0]){const{minStr:o,maxStr:a}=/^\{(?<minStr>\d*)(?:,(?<maxStr>\d*))?/.exec(e).groups,s=1e5;if(+o>s||a&&+a>s)throw new Error("Quantifier value unsupported in Oniguruma");if(t=+o,n=void 0===a?+o:""===a?1/0:+a,t>n&&(r="possessive",[t,n]=[n,t]),e.endsWith("?")){if("possessive"===r)throw new Error('Unsupported possessive interval quantifier chain with "?"');r="lazy"}else r||(r="greedy")}else t="+"===e[0]?1:0,n="?"===e[0]?1:1/0,r="+"===e[1]?"possessive":"?"===e[1]?"lazy":"greedy";return function(e,t,n,r){return{type:"Quantifier",kind:e,min:t,max:n,raw:r}}(r,t,n,e)}function M(e){const t={};return e.includes("i")&&(t.ignoreCase=!0),e.includes("m")&&(t.dotAll=!0),e.includes("x")&&(t.extended=!0),Object.keys(t).length?t:null}function N(e){const t=[],n=new RegExp(u,"gy");let r;for(;r=n.exec(e);){const e=r[0];if("{"===e[0]){const r=/^\{(?<min>\d+),(?<max>\d+)\}\??$/.exec(e);if(r){const{min:o,max:a}=r.groups;if(+o>+a&&e.endsWith("?")){n.lastIndex--,t.push(L(e.slice(0,-1)));continue}}}t.push(L(e))}return t}function P(e,t){if(!Array.isArray(e.body))throw new Error("Expected node with body array");if(1!==e.body.length)return!1;const n=e.body[0];return!t||Object.keys(t).every(e=>t[e]===n[e])}const U=new Set(["AbsenceFunction","Backreference","CapturingGroup","Character","CharacterClass","CharacterSet","Group","Quantifier","Subroutine"]);function T(e,t={}){const s={flags:"",normalizeUnknownPropertyNames:!1,skipBackrefValidation:!1,skipLookbehindValidation:!1,skipPropertyNameValidation:!1,unicodePropertyMap:null,...t,rules:{captureGroup:!1,singleline:!1,...t.rules}},i=p(e,{flags:s.flags,rules:{captureGroup:s.rules.captureGroup,singleline:s.rules.singleline}}),u=(e,t)=>{const s=i.tokens[c.nextIndex];switch(c.parent=e,c.nextIndex++,s.type){case"Alternator":return O();case"Assertion":return function({kind:e}){return R(a({"^":"line_start",$:"line_end","\\A":"string_start","\\b":"word_boundary","\\B":"word_boundary","\\G":"search_start","\\y":"text_segment_boundary","\\Y":"text_segment_boundary","\\z":"string_end","\\Z":"string_end_newline"}[e],`Unexpected assertion kind "${e}"`),{negate:e===o`\B`||e===o`\Y`})}(s);case"Backreference":return function({raw:e},t){const n=/^\\k[<']/.test(e),r=n?e.slice(3,-1):e.slice(1),o=(n,r=!1)=>{const o=t.capturingGroups.length;let a=!1;if(n>o){if(!t.skipBackrefValidation)throw new Error(`Not enough capturing groups defined to the left "${e}"`);a=!0}return t.hasNumberedRef=!0,D(r?o+1-n:n,{orphan:a})};if(n){const n=/^(?<sign>-?)0*(?<num>[1-9]\d*)$/.exec(r);if(n)return o(+n.groups.num,!!n.groups.sign);if(/[-+]/.test(r))throw new Error(`Invalid backref name "${e}"`);if(!t.namedGroupsByName.has(r))throw new Error(`Group name not defined to the left "${e}"`);return D(r)}return o(+r)}(s,c);case"Character":return F(s.value,{useLastValid:!!t.isCheckingRangeEnd});case"CharacterClassHyphen":return function(e,t,r){const{tokens:o,walk:a}=t,s=t.parent,i=s.body.at(-1),u=o[t.nextIndex];if(!r.isCheckingRangeEnd&&i&&"CharacterClass"!==i.type&&"CharacterClassRange"!==i.type&&u&&"CharacterClassOpen"!==u.type&&"CharacterClassClose"!==u.type&&"CharacterClassIntersector"!==u.type){const e=a(s,{...r,isCheckingRangeEnd:!0});if("Character"===i.type&&"Character"===e.type)return s.body.pop(),function(e,t){if(t.value<e.value)throw new Error("Character class range out of order");return{type:"CharacterClassRange",min:e,max:t}}(i,e);throw new Error("Invalid character class range")}return F(n("-"))}(0,c,t);case"CharacterClassOpen":return function({negate:e},t,n){const{tokens:r,walk:o}=t,a=r[t.nextIndex],s=[G()];let i=Y(a);for(;"CharacterClassClose"!==i.type;){if("CharacterClassIntersector"===i.type)s.push(G()),t.nextIndex++;else{const e=s.at(-1);e.body.push(o(e,n))}i=Y(r[t.nextIndex],a)}const u=G({negate:e});return 1===s.length?u.body=s[0].body:(u.kind="intersection",u.body=s.map(e=>1===e.body.length?e.body[0]:e)),t.nextIndex++,u}(s,c,t);case"CharacterSet":return function({kind:e,negate:t,value:n},o){const{normalizeUnknownPropertyNames:a,skipPropertyNameValidation:s,unicodePropertyMap:i}=o;if("property"===e){const o=J(n);if(!r.has(o)||i?.has(o))return X(n,{negate:t,normalizeUnknownPropertyNames:a,skipPropertyNameValidation:s,unicodePropertyMap:i});e="posix",n=o}return"posix"===e?function(e,t){const n=!!t?.negate;if(!r.has(e))throw new Error(`Invalid POSIX class "${e}"`);return{type:"CharacterSet",kind:"posix",value:e,negate:n}}(n,{negate:t}):j(e,{negate:t})}(s,c);case"Directive":return function(e,t={}){if("keep"===e)return{type:"Directive",kind:e};if("flags"===e)return{type:"Directive",kind:e,flags:a(t.flags)};throw new Error(`Unexpected directive kind "${e}"`)}(s.kind,{flags:s.flags});case"GroupOpen":return function(e,t,n){const{tokens:r,capturingGroups:o,namedGroupsByName:a,skipLookbehindValidation:s,walk:i}=t,u=function({flags:e,kind:t,name:n,negate:r,number:o}){switch(t){case"absence_repeater":return function(e,t){return{type:"AbsenceFunction",kind:e,body:Z(t?.body)}}("repeater");case"atomic":return V({atomic:!0});case"capturing":return B(o,{name:n});case"group":return V({flags:e});case"lookahead":case"lookbehind":return W({behind:"lookbehind"===t,negate:r});default:throw new Error(`Unexpected group kind "${t}"`)}}(e),c="AbsenceFunction"===u.type,l=K(u),p=l&&u.negate;if("CapturingGroup"===u.type&&(o.push(u),u.name&&function(e,t,n){return e.has(t)||e.set(t,n),e.get(t)}(a,u.name,[]).push(u)),c&&n.isInAbsenceFunction)throw new Error("Nested absence function not supported by Oniguruma");let d=ee(r[t.nextIndex]);for(;"GroupClose"!==d.type;){if("Alternator"===d.type)u.body.push(O()),t.nextIndex++;else{const e=u.body.at(-1),t=i(e,{...n,isInAbsenceFunction:n.isInAbsenceFunction||c,isInLookbehind:n.isInLookbehind||l,isInNegLookbehind:n.isInNegLookbehind||p});if(e.body.push(t),(l||n.isInLookbehind)&&!s){const e="Lookbehind includes a pattern not allowed by Oniguruma";if(p||n.isInNegLookbehind){if(Q(t)||"CapturingGroup"===t.type)throw new Error(e)}else if(Q(t)||K(t)&&t.negate)throw new Error(e)}}d=ee(r[t.nextIndex])}return t.nextIndex++,u}(s,c,t);case"NamedCallout":return function(e,t,n){return{type:"NamedCallout",kind:e,tag:t,arguments:n}}(s.kind,s.tag,s.arguments);case"Quantifier":return function({kind:e,min:t,max:n},r){const o=r.parent,a=o.body.at(-1);if(!a||!function(e){return U.has(e.type)}(a))throw new Error("Quantifier requires a repeatable token");const s=H(e,t,n,a);return o.body.pop(),s}(s,c);case"Subroutine":return function({raw:e},t){const{capturingGroups:n,subroutines:r}=t;let o=e.slice(3,-1);const a=/^(?<sign>[-+]?)0*(?<num>[1-9]\d*)$/.exec(o);if(a){const e=+a.groups.num,r=n.length;if(t.hasNumberedRef=!0,o={"":e,"+":r+e,"-":r+1-e}[a.groups.sign],o<1)throw new Error("Invalid subroutine number")}else"0"===o&&(o=0);const s=z(o);return r.push(s),s}(s,c);default:throw new Error(`Unexpected token type "${s.type}"`)}},c={capturingGroups:[],hasNumberedRef:!1,namedGroupsByName:new Map,nextIndex:0,normalizeUnknownPropertyNames:s.normalizeUnknownPropertyNames,parent:null,skipBackrefValidation:s.skipBackrefValidation,skipLookbehindValidation:s.skipLookbehindValidation,skipPropertyNameValidation:s.skipPropertyNameValidation,subroutines:[],tokens:i.tokens,unicodePropertyMap:s.unicodePropertyMap,walk:u},l=function(e,t){return{type:"Regex",body:Z(t?.body),flags:e}}(function(e){return{type:"Flags",...e}}(i.flags));let d=l.body[0];for(;c.nextIndex<i.tokens.length;){const e=u(d,{});"Alternative"===e.type?(l.body.push(e),d=e):d.body.push(e)}const{capturingGroups:f,hasNumberedRef:h,namedGroupsByName:g,subroutines:m}=c;if(h&&g.size&&!s.rules.captureGroup)throw new Error("Numbered backref/subroutine not allowed when using named capture");for(const{ref:n}of m)if("number"==typeof n){if(n>f.length)throw new Error("Subroutine uses a group number that's not defined");n&&(f[n-1].isSubroutined=!0)}else{if(!g.has(n))throw new Error(o`Subroutine uses a group name that's not defined "\g<${n}>"`);if(g.get(n).length>1)throw new Error(o`Subroutine uses a duplicate group name "\g<${n}>"`);g.get(n)[0].isSubroutined=!0}return l}function O(e){return{type:"Alternative",body:q(e?.body)}}function R(e,t){const n={type:"Assertion",kind:e};return("word_boundary"===e||"text_segment_boundary"===e)&&(n.negate=!!t?.negate),n}function D(e,t){const n=!!t?.orphan;return{type:"Backreference",ref:e,...n&&{orphan:n}}}function B(e,t){const n={name:void 0,isSubroutined:!1,...t};if(void 0!==n.name&&!function(e){return/^[\p{Alpha}\p{Pc}][^)]*$/u.test(e)}(n.name))throw new Error(`Group name "${n.name}" invalid in Oniguruma`);return{type:"CapturingGroup",number:e,...n.name&&{name:n.name},...n.isSubroutined&&{isSubroutined:n.isSubroutined},body:Z(t?.body)}}function F(e,t){const n={useLastValid:!1,...t};if(e>1114111){const t=e.toString(16);if(!n.useLastValid)throw e>1310719?new Error(`Invalid code point out of range "\\x{${t}}"`):new Error(`Invalid code point out of range in JS "\\x{${t}}"`);e=1114111}return{type:"Character",value:e}}function G(e){const t={kind:"union",negate:!1,...e};return{type:"CharacterClass",kind:t.kind,negate:t.negate,body:q(e?.body)}}function j(e,t){const n=!!t?.negate,r={type:"CharacterSet",kind:e};return("digit"===e||"hex"===e||"newline"===e||"space"===e||"word"===e)&&(r.negate=n),("text_segment"===e||"newline"===e&&!n)&&(r.variableLength=!0),r}function V(e){const t=e?.atomic,n=e?.flags;if(t&&n)throw new Error("Atomic group cannot have flags");return{type:"Group",...t&&{atomic:t},...n&&{flags:n},body:Z(e?.body)}}function W(e){const t={behind:!1,negate:!1,...e};return{type:"LookaroundAssertion",kind:t.behind?"lookbehind":"lookahead",negate:t.negate,body:Z(e?.body)}}function H(e,t,n,r){if(t>n)throw new Error("Invalid reversed quantifier range");return{type:"Quantifier",kind:e,min:t,max:n,body:r}}function z(e){return{type:"Subroutine",ref:e}}function X(e,t){const n={negate:!1,normalizeUnknownPropertyNames:!1,skipPropertyNameValidation:!1,unicodePropertyMap:null,...t};let r=n.unicodePropertyMap?.get(J(e));if(!r)if(n.normalizeUnknownPropertyNames)r=function(e){return e.trim().replace(/[- _]+/g,"_").replace(/[A-Z][a-z]+(?=[A-Z])/g,"$&_").replace(/[A-Za-z]+/g,e=>e[0].toUpperCase()+e.slice(1).toLowerCase())}(e);else if(n.unicodePropertyMap&&!n.skipPropertyNameValidation)throw new Error(o`Invalid Unicode property "\p{${e}}"`);return{type:"CharacterSet",kind:"property",value:r??e,negate:n.negate}}function Z(e){if(void 0===e)e=[O()];else if(!Array.isArray(e)||!e.length||!e.every(e=>"Alternative"===e.type))throw new Error("Invalid body; expected array of one or more Alternative nodes");return e}function q(e){if(void 0===e)e=[];else if(!Array.isArray(e)||!e.every(e=>!!e.type))throw new Error("Invalid body; expected array of nodes");return e}function Q(e){return"LookaroundAssertion"===e.type&&"lookahead"===e.kind}function K(e){return"LookaroundAssertion"===e.type&&"lookbehind"===e.kind}function J(e){return e.replace(/[- _]+/g,"").toLowerCase()}function Y(e,t){return a(e,("Character"===t?.type&&93===t.value?"Empty":"Unclosed")+" character class")}function ee(e){return a(e,"Unclosed group")}function te(e,t,n=null){function r(e,t){for(let n=0;n<e.length;n++){const r=o(e[n],t,n,e);n=Math.max(-1,n+r)}}function o(s,i=null,u=null,c=null){let l=0,p=!1;const d={node:s,parent:i,key:u,container:c,root:e,remove(){ne(c).splice(Math.max(0,re(u)+l),1),l--,p=!0},removeAllNextSiblings:()=>ne(c).splice(re(u)+1),removeAllPrevSiblings(){const e=re(u)+l;return l-=e,ne(c).splice(0,Math.max(0,e))},replaceWith(e,t={}){const n=!!t.traverse;c?c[Math.max(0,re(u)+l)]=e:a(i,"Can't replace root node")[u]=e,n&&o(e,i,u,c),p=!0},replaceWithMultiple(e,t={}){const n=!!t.traverse;if(ne(c).splice(Math.max(0,re(u)+l),1,...e),l+=e.length-1,n){let t=0;for(let n=0;n<e.length;n++)t+=o(e[n],i,re(u)+n+t,c)}p=!0},skip(){p=!0}},{type:f}=s,h=t["*"],g=t[f],m="function"==typeof h?h:h?.enter,y="function"==typeof g?g:g?.enter;if(m?.(d,n),y?.(d,n),!p)switch(f){case"AbsenceFunction":case"CapturingGroup":case"Group":case"Alternative":case"CharacterClass":case"LookaroundAssertion":r(s.body,s);break;case"Assertion":case"Backreference":case"Character":case"CharacterSet":case"Directive":case"Flags":case"NamedCallout":case"Subroutine":break;case"CharacterClassRange":o(s.min,s,"min"),o(s.max,s,"max");break;case"Quantifier":o(s.body,s,"body");break;case"Regex":r(s.body,s),o(s.flags,s,"flags");break;default:throw new Error(`Unexpected node type "${f}"`)}return g?.exit?.(d,n),h?.exit?.(d,n),l}return o(e),e}function ne(e){if(!Array.isArray(e))throw new Error("Container expected");return e}function re(e){if("number"!=typeof e)throw new Error("Numeric key expected");return e}const oe=String.raw`\(\?(?:[:=!>A-Za-z\-]|<[=!]|\(DEFINE\))`;function ae(e,t){for(let n=0;n<e.length;n++)e[n]>=t&&e[n]++}function se(e,t,n,r){return e.slice(0,t)+r+e.slice(t+n.length)}const ie=Object.freeze({DEFAULT:"DEFAULT",CHAR_CLASS:"CHAR_CLASS"});function ue(e,t,n,r){const o=new RegExp(String.raw`${t}|(?<$skip>\[\^?|\\?.)`,"gsu"),a=[!1];let s=0,i="";for(const u of e.matchAll(o)){const{0:e,groups:{$skip:t}}=u;t||r&&r===ie.DEFAULT!=!s?("["===e[0]?(s++,a.push("^"===e[1])):"]"===e&&s&&(s--,a.pop()),i+=e):i+=n instanceof Function?n(u,{context:s?ie.CHAR_CLASS:ie.DEFAULT,negated:a[a.length-1]}):n}return i}function ce(e,t,n,r){ue(e,t,n,r)}function le(e,t,n){return!!function(e,t,n=0,r){if(!new RegExp(t,"su").test(e))return null;const o=new RegExp(`${t}|(?<$skip>\\\\?.)`,"gsu");o.lastIndex=n;let a,s=0;for(;a=o.exec(e);){const{0:e,groups:{$skip:t}}=a;if(!(t||r&&r===ie.DEFAULT!=!s))return a;"["===e?s++:"]"===e&&s&&s--,o.lastIndex==a.index&&o.lastIndex++}return null}(e,t,0,n)}function pe(e,t){const n=/\\?./gsu;n.lastIndex=t;let r,o=e.length,a=0,s=1;for(;r=n.exec(e);){const[e]=r;if("["===e)a++;else if(a)"]"===e&&a--;else if("("===e)s++;else if(")"===e&&(s--,!s)){o=r.index;break}}return e.slice(t,o)}const de=new RegExp(String.raw`(?<noncapturingStart>${oe})|(?<capturingStart>\((?:\?<[^>]+>)?)|\\?.`,"gsu");const fe=String.raw`(?:[?*+]|\{\d+(?:,\d*)?\})`,he=new RegExp(String.raw`
\\(?: \d+
  | c[A-Za-z]
  | [gk]<[^>]+>
  | [pPu]\{[^\}]+\}
  | u[A-Fa-f\d]{4}
  | x[A-Fa-f\d]{2}
  )
| \((?: \? (?: [:=!>]
  | <(?:[=!]|[^>]+>)
  | [A-Za-z\-]+:
  | \(DEFINE\)
  ))?
| (?<qBase>${fe})(?<qMod>[?+]?)(?<invalidQ>[?*+\{]?)
| \\?.
`.replace(/\s+/g,""),"gsu");const ge=String.raw,me=ge`\\g<(?<gRNameOrNum>[^>&]+)&R=(?<gRDepth>[^>]+)>`,ye=ge`\(\?R=(?<rDepth>[^\)]+)\)|${me}`,we=ge`\(\?<(?![=!])(?<captureName>[^>]+)>`,be=ge`${we}|(?<unnamed>\()(?!\?)`,Ce=new RegExp(ge`${we}|${ye}|\(\?|\\?.`,"gsu"),_e="Cannot use multiple overlapping recursions";function xe(e){const t=`Max depth must be integer between 2 and 100; used ${e}`;if(!/^[1-9]\d*$/.test(e))throw new Error(t);if((e=+e)<2||e>100)throw new Error(t)}function Ee(e,t,n,r,o,a,s){const i=new Set;r&&ce(e+t,we,({groups:{captureName:e}})=>{i.add(e)},ie.DEFAULT);const u=[n,r?i:null,o,a,s];return`${e}${ke(`(?:${e}`,"forward",...u)}(?:)${ke(`${t})`,"backward",...u)}${t}`}function ke(e,t,n,r,o,a,s){const i=e=>"forward"===t?e+2:n-e+2-1;let u="";for(let c=0;c<n;c++){const t=i(c);u+=ue(e,ge`${be}|\\k<(?<backref>[^>]+)>`,({0:e,groups:{captureName:n,unnamed:i,backref:u}})=>{if(u&&r&&!r.has(u))return e;const c=`_$${t}`;if(i||n){const t=s+a.length+1;return a.push(t),Ae(o,t),i?e:`(?<${n}${c}>`}return ge`\k<${u}${c}>`},ie.DEFAULT)}return u}function Ae(e,t){for(let n=0;n<e.length;n++)e[n]>=t&&e[n]++}function $e(e,t,n,r,o,a){if(e.size&&r){let s=0;ce(t,be,()=>s++,ie.DEFAULT);const i=a-s+o,u=new Map;return e.forEach((e,t)=>{const o=(r-s*n)/n,a=s*n,c=t>i+s?t+r:t,l=[];for(const u of e)if(u<=i)l.push(u);else if(u>i+s+o)l.push(u+r);else if(u<=i+s)for(let e=0;e<=n;e++)l.push(u+s*e);else for(let e=0;e<=n;e++)l.push(u+a+o*e);u.set(c,l)}),u}return e}var Ie=String.fromCodePoint,ve=String.raw,Se={flagGroups:(()=>{try{new RegExp("(?i:)")}catch{return!1}return!0})(),unicodeSets:(()=>{try{new RegExp("","v")}catch{return!1}return!0})()};function Le(e,{enable:t,disable:n}){return{dotAll:!(n?.dotAll||!t?.dotAll&&!e.dotAll),ignoreCase:!(n?.ignoreCase||!t?.ignoreCase&&!e.ignoreCase)}}function Me(e,t,n){return e.has(t)||e.set(t,n),e.get(t)}function Ne(e,t){return Pe[e]>=Pe[t]}Se.bugFlagVLiteralHyphenIsRange=!!Se.unicodeSets&&(()=>{try{new RegExp(ve`[\d\-a]`,"v")}catch{return!0}return!1})(),Se.bugNestedClassIgnoresNegation=Se.unicodeSets&&new RegExp("[[^a]]","v").test("a");var Pe={ES2025:2025,ES2024:2024,ES2018:2018},Ue={auto:"auto",ES2025:"ES2025",ES2024:"ES2024",ES2018:"ES2018"};function Te(e={}){if("[object Object]"!=={}.toString.call(e))throw new Error("Unexpected options");if(void 0!==e.target&&!Ue[e.target])throw new Error(`Unexpected target "${e.target}"`);const t={accuracy:"default",avoidSubclass:!1,flags:"",global:!1,hasIndices:!1,lazyCompileLength:1/0,target:"auto",verbose:!1,...e,rules:{allowOrphanBackrefs:!1,asciiWordBoundaries:!1,captureGroup:!1,recursionLimit:20,singleline:!1,...e.rules}};return"auto"===t.target&&(t.target=Se.flagGroups?"ES2025":Se.unicodeSets?"ES2024":"ES2018"),t}var Oe=new Set([Ie(304),Ie(305)]),Re=ve`[\p{L}\p{M}\p{N}\p{Pc}]`;function De(e){if(Oe.has(e))return[e];const t=new Set,n=e.toLowerCase(),r=n.toUpperCase(),o=je.get(n),a=Fe.get(n),s=Ge.get(n);return 1===[...r].length&&t.add(r),s&&t.add(s),o&&t.add(o),t.add(n),a&&t.add(a),[...t]}var Be=new Map("C Other\nCc Control cntrl\nCf Format\nCn Unassigned\nCo Private_Use\nCs Surrogate\nL Letter\nLC Cased_Letter\nLl Lowercase_Letter\nLm Modifier_Letter\nLo Other_Letter\nLt Titlecase_Letter\nLu Uppercase_Letter\nM Mark Combining_Mark\nMc Spacing_Mark\nMe Enclosing_Mark\nMn Nonspacing_Mark\nN Number\nNd Decimal_Number digit\nNl Letter_Number\nNo Other_Number\nP Punctuation punct\nPc Connector_Punctuation\nPd Dash_Punctuation\nPe Close_Punctuation\nPf Final_Punctuation\nPi Initial_Punctuation\nPo Other_Punctuation\nPs Open_Punctuation\nS Symbol\nSc Currency_Symbol\nSk Modifier_Symbol\nSm Math_Symbol\nSo Other_Symbol\nZ Separator\nZl Line_Separator\nZp Paragraph_Separator\nZs Space_Separator\nASCII\nASCII_Hex_Digit AHex\nAlphabetic Alpha\nAny\nAssigned\nBidi_Control Bidi_C\nBidi_Mirrored Bidi_M\nCase_Ignorable CI\nCased\nChanges_When_Casefolded CWCF\nChanges_When_Casemapped CWCM\nChanges_When_Lowercased CWL\nChanges_When_NFKC_Casefolded CWKCF\nChanges_When_Titlecased CWT\nChanges_When_Uppercased CWU\nDash\nDefault_Ignorable_Code_Point DI\nDeprecated Dep\nDiacritic Dia\nEmoji\nEmoji_Component EComp\nEmoji_Modifier EMod\nEmoji_Modifier_Base EBase\nEmoji_Presentation EPres\nExtended_Pictographic ExtPict\nExtender Ext\nGrapheme_Base Gr_Base\nGrapheme_Extend Gr_Ext\nHex_Digit Hex\nIDS_Binary_Operator IDSB\nIDS_Trinary_Operator IDST\nID_Continue IDC\nID_Start IDS\nIdeographic Ideo\nJoin_Control Join_C\nLogical_Order_Exception LOE\nLowercase Lower\nMath\nNoncharacter_Code_Point NChar\nPattern_Syntax Pat_Syn\nPattern_White_Space Pat_WS\nQuotation_Mark QMark\nRadical\nRegional_Indicator RI\nSentence_Terminal STerm\nSoft_Dotted SD\nTerminal_Punctuation Term\nUnified_Ideograph UIdeo\nUppercase Upper\nVariation_Selector VS\nWhite_Space space\nXID_Continue XIDC\nXID_Start XIDS".split(/\s/).map(e=>[J(e),e])),Fe=new Map([["s",Ie(383)],[Ie(383),"s"]]),Ge=new Map([[Ie(223),Ie(7838)],[Ie(107),Ie(8490)],[Ie(229),Ie(8491)],[Ie(969),Ie(8486)]]),je=new Map([We(453),We(456),We(459),We(498),...He(8072,8079),...He(8088,8095),...He(8104,8111),We(8124),We(8140),We(8188)]),Ve=new Map([["alnum",ve`[\p{Alpha}\p{Nd}]`],["alpha",ve`\p{Alpha}`],["ascii",ve`\p{ASCII}`],["blank",ve`[\p{Zs}\t]`],["cntrl",ve`\p{Cc}`],["digit",ve`\p{Nd}`],["graph",ve`[\P{space}&&\P{Cc}&&\P{Cn}&&\P{Cs}]`],["lower",ve`\p{Lower}`],["print",ve`[[\P{space}&&\P{Cc}&&\P{Cn}&&\P{Cs}]\p{Zs}]`],["punct",ve`[\p{P}\p{S}]`],["space",ve`\p{space}`],["upper",ve`\p{Upper}`],["word",ve`[\p{Alpha}\p{M}\p{Nd}\p{Pc}]`],["xdigit",ve`\p{AHex}`]]);function We(e){const t=Ie(e);return[t.toLowerCase(),t]}function He(e,t){return function(e,t){const n=[];for(let r=e;r<=t;r++)n.push(r);return n}(e,t).map(e=>We(e))}var ze=new Set(["Lower","Lowercase","Upper","Uppercase","Ll","Lowercase_Letter","Lt","Titlecase_Letter","Lu","Uppercase_Letter"]);var Xe={AbsenceFunction({node:e,parent:t,replaceWith:n}){const{body:r,kind:o}=e;if("repeater"!==o)throw new Error('Unsupported absence function "(?~|"');{const e=V();e.body[0].body.push(W({negate:!0,body:r}),X("Any"));const o=V();o.body[0].body.push(H("greedy",0,1/0,e)),n(ct(o,t),{traverse:!0})}},Alternative:{enter({node:e,parent:t,key:n},{flagDirectivesByAlt:r}){const o=e.body.filter(e=>"flags"===e.kind);for(let a=n+1;a<t.body.length;a++){Me(r,t.body[a],[]).push(...o)}},exit({node:e},{flagDirectivesByAlt:t}){if(t.get(e)?.length){const n=et(t.get(e));if(n){const t=V({flags:n});t.body[0].body=e.body,e.body=[ct(t,e)]}}}},Assertion({node:e,parent:t,key:n,container:r,root:o,remove:a,replaceWith:s},i){const{kind:u,negate:c}=e,{asciiWordBoundaries:l,avoidSubclass:p,supportedGNodes:d,wordIsAscii:f}=i;if("text_segment_boundary"===u)throw new Error(`Unsupported text segment boundary "\\${c?"Y":"y"}"`);if("line_end"===u)s(ct(W({body:[O({body:[R("string_end")]}),O({body:[F(10)]})]}),t));else if("line_start"===u)s(ct(st(ve`(?<=\A|\n(?!\z))`,{skipLookbehindValidation:!0}),t));else if("search_start"===u)if(d.has(e))o.flags.sticky=!0,a();else{const e=r[n-1];if(e&&function(e){const t=["Character","CharacterClass","CharacterSet"];return t.includes(e.type)||"Quantifier"===e.type&&e.min&&t.includes(e.body.type)}(e))s(ct(W({negate:!0}),t));else{if(p)throw new Error(ve`Uses "\G" in a way that requires a subclass`);s(ut(R("string_start"),t)),i.strategy="clip_search"}}else if("string_end"===u||"string_start"===u);else if("string_end_newline"===u)s(ct(st(ve`(?=\n?\z)`),t));else{if("word_boundary"!==u)throw new Error(`Unexpected assertion kind "${u}"`);if(!f&&!l){s(ct(st(c?`(?:(?<=${Re})(?=${Re})|(?<!${Re})(?!${Re}))`:`(?:(?<=${Re})(?!${Re})|(?<!${Re})(?=${Re}))`),t))}}},Backreference({node:e},{jsGroupNameMap:t}){let{ref:n}=e;"string"!=typeof n||at(n)||(n=Ye(n,t),e.ref=n)},CapturingGroup({node:e},{jsGroupNameMap:t,subroutineRefMap:n}){let{name:r}=e;r&&!at(r)&&(r=Ye(r,t),e.name=r),n.set(e.number,e),r&&n.set(r,e)},CharacterClassRange({node:e,parent:t,replaceWith:n}){if("intersection"===t.kind){n(ct(G({body:[e]}),t),{traverse:!0})}},CharacterSet({node:e,parent:t,replaceWith:n},{accuracy:r,minTargetEs2024:o,digitIsAscii:a,spaceIsAscii:s,wordIsAscii:i}){const{kind:u,negate:c,value:l}=e;if(!a||"digit"!==u&&"digit"!==l)if(!s||"space"!==u&&"space"!==l)if(!i||"word"!==u&&"word"!==l)if("any"===u)n(ut(X("Any"),t));else if("digit"===u)n(ut(X("Nd",{negate:c}),t));else if("dot"===u);else if("text_segment"===u){if("strict"===r)throw new Error(ve`Use of "\X" requires non-strict accuracy`);const e="\\p{Emoji}(?:\\p{EMod}|\\uFE0F\\u20E3?|[\\x{E0020}-\\x{E007E}]+\\x{E007F})?",a=ve`\p{RI}{2}|${e}(?:\u200D${e})*`;n(ct(st(ve`(?>\r\n|${o?ve`\p{RGI_Emoji}`:a}|\P{M}\p{M}*)`,{skipPropertyNameValidation:!0}),t))}else if("hex"===u)n(ut(X("AHex",{negate:c}),t));else if("newline"===u)n(ct(st(c?"[^\n]":"(?>\r\n?|[\n\v\f\u2028\u2029])"),t));else if("posix"===u)if(o||"graph"!==l&&"print"!==l)n(ct(it(st(Ve.get(l)),c),t));else{if("strict"===r)throw new Error(`POSIX class "${l}" requires min target ES2024 or non-strict accuracy`);let e={graph:"!-~",print:" -~"}[l];c&&(e=`\0-${Ie(e.codePointAt(0)-1)}${Ie(e.codePointAt(2)+1)}-􏿿`),n(ct(st(`[${e}]`),t))}else if("property"===u)Be.has(J(l))||(e.key="sc");else if("space"===u)n(ut(X("space",{negate:c}),t));else{if("word"!==u)throw new Error(`Unexpected character set kind "${u}"`);n(ct(it(st(Re),c),t))}else n(ut(j("word",{negate:c}),t));else n(ct(it(st("[\t-\r ]"),c),t));else n(ut(j("digit",{negate:c}),t))},Directive({node:e,parent:t,root:n,remove:r,replaceWith:o,removeAllPrevSiblings:a,removeAllNextSiblings:s}){const{kind:i,flags:u}=e;if("flags"===i)if(u.enable||u.disable){const e=V({flags:u});e.body[0].body=s(),o(ct(e,t),{traverse:!0})}else r();else{if("keep"!==i)throw new Error(`Unexpected directive kind "${i}"`);{const e=n.body[0],r=1===n.body.length&&P(e,{type:"Group"})&&1===e.body[0].body.length?e.body[0]:n;if(t.parent!==r||r.body.length>1)throw new Error(ve`Uses "\K" in a way that's unsupported`);const s=W({behind:!0});s.body[0].body=a(),o(ct(s,t))}}},Flags({node:e,parent:t}){if(e.posixIsAscii)throw new Error('Unsupported flag "P"');if("word"===e.textSegmentMode)throw new Error('Unsupported flag "y{w}"');["digitIsAscii","extended","posixIsAscii","spaceIsAscii","wordIsAscii","textSegmentMode"].forEach(t=>delete e[t]),Object.assign(e,{global:!1,hasIndices:!1,multiline:!1,sticky:e.sticky??!1}),t.options={disable:{x:!0,n:!0},force:{v:!0}}},Group({node:e}){if(!e.flags)return;const{enable:t,disable:n}=e.flags;t?.extended&&delete t.extended,n?.extended&&delete n.extended,t?.dotAll&&n?.dotAll&&delete t.dotAll,t?.ignoreCase&&n?.ignoreCase&&delete t.ignoreCase,t&&!Object.keys(t).length&&delete e.flags.enable,n&&!Object.keys(n).length&&delete e.flags.disable,!e.flags.enable&&!e.flags.disable&&delete e.flags},LookaroundAssertion({node:e},t){const{kind:n}=e;"lookbehind"===n&&(t.passedLookbehind=!0)},NamedCallout({node:e,parent:t,replaceWith:n}){const{kind:r}=e;if("fail"!==r)throw new Error(`Unsupported named callout "(*${r.toUpperCase()}"`);n(ct(W({negate:!0}),t))},Quantifier({node:e}){if("Quantifier"===e.body.type){const t=V();t.body[0].body.push(e.body),e.body=ct(t,e)}},Regex:{enter({node:e},{supportedGNodes:t}){const n=[];let r=!1,o=!1;for(const a of e.body)if(1===a.body.length&&"search_start"===a.body[0].kind)a.body.pop();else{const e=rt(a.body);e?(r=!0,Array.isArray(e)?n.push(...e):n.push(e)):o=!0}r&&!o&&n.forEach(e=>t.add(e))},exit(e,{accuracy:t,passedLookbehind:n,strategy:r}){if("strict"===t&&n&&r)throw new Error(ve`Uses "\G" in a way that requires non-strict accuracy`)}},Subroutine({node:e},{jsGroupNameMap:t}){let{ref:n}=e;"string"!=typeof n||at(n)||(n=Ye(n,t),e.ref=n)}},Ze={Backreference({node:e},{multiplexCapturesToLeftByRef:t,reffedNodesByReferencer:n}){const{orphan:r,ref:o}=e;r||n.set(e,[...t.get(o).map(({node:e})=>e)])},CapturingGroup:{enter({node:e,parent:t,replaceWith:n,skip:r},{groupOriginByCopy:o,groupsByName:a,multiplexCapturesToLeftByRef:s,openRefs:i,reffedNodesByReferencer:u}){const c=o.get(e);if(c&&i.has(e.number)){const r=ut(Je(e.number),t);return u.set(r,i.get(e.number)),void n(r)}i.set(e.number,e),s.set(e.number,[]),e.name&&Me(s,e.name,[]);const l=s.get(e.name??e.number);for(let p=0;p<l.length;p++){const t=l[p];if(c===t.node||c&&c===t.origin||e===t.origin){l.splice(p,1);break}}if(s.get(e.number).push({node:e,origin:c}),e.name&&s.get(e.name).push({node:e,origin:c}),e.name){const t=Me(a,e.name,new Map);let n=!1;if(c)n=!0;else for(const e of t.values())if(!e.hasDuplicateNameToRemove){n=!0;break}a.get(e.name).set(e,{node:e,hasDuplicateNameToRemove:n})}},exit({node:e},{openRefs:t}){t.delete(e.number)}},Group:{enter({node:e},t){t.prevFlags=t.currentFlags,e.flags&&(t.currentFlags=Le(t.currentFlags,e.flags))},exit(e,t){t.currentFlags=t.prevFlags}},Subroutine({node:e,parent:t,replaceWith:n},r){const{isRecursive:o,ref:a}=e;if(o){let n=t;for(;(n=n.parent)&&("CapturingGroup"!==n.type||n.name!==a&&n.number!==a););return void r.reffedNodesByReferencer.set(e,n)}const s=r.subroutineRefMap.get(a),i=0===a,u=i?Je(0):Ke(s,r.groupOriginByCopy,null);let c=u;if(!i){const e=et(function(e,t){const n=[];for(;e=e.parent;)t&&!t(e)||n.push(e);return n}(s,e=>"Group"===e.type&&!!e.flags)),t=e?Le(r.globalFlags,e):r.globalFlags;l=t,p=r.currentFlags,(l.dotAll!==p.dotAll||l.ignoreCase!==p.ignoreCase)&&(c=V({flags:tt(t)}),c.body[0].body.push(u))}var l,p;n(ct(c,t),{traverse:!i})}},qe={Backreference({node:e,parent:t,replaceWith:n},r){if(e.orphan)return void(r.highestOrphanBackref=Math.max(r.highestOrphanBackref,e.ref));const o=r.reffedNodesByReferencer.get(e).filter(t=>function(e,t){let n=t;do{if("Regex"===n.type)return!1;if("Alternative"===n.type)continue;if(n===e)return!1;const t=nt(n.parent);for(const r of t){if(r===n)break;if(r===e||ot(r,e))return!0}}while(n=n.parent);throw new Error("Unexpected path")}(t,e));if(o.length)if(o.length>1){n(ct(V({atomic:!0,body:o.reverse().map(e=>O({body:[D(e.number)]}))}),t))}else e.ref=o[0].number;else n(ct(W({negate:!0}),t))},CapturingGroup({node:e},t){e.number=++t.numCapturesToLeft,e.name&&t.groupsByName.get(e.name).get(e).hasDuplicateNameToRemove&&delete e.name},Regex:{exit({node:e},t){const n=Math.max(t.highestOrphanBackref-t.numCapturesToLeft,0);for(let r=0;r<n;r++){const t=B();e.body.at(-1).body.push(t)}}},Subroutine({node:e},t){e.isRecursive&&0!==e.ref&&(e.ref=t.reffedNodesByReferencer.get(e).number)}};function Qe(e){te(e,{"*"({node:e,parent:t}){e.parent=t}})}function Ke(e,t,n,r){const o=Array.isArray(e)?[]:{};for(const[a,s]of Object.entries(e))"parent"===a?o.parent=Array.isArray(n)?r:n:s&&"object"==typeof s?o[a]=Ke(s,t,o,n):("type"===a&&"CapturingGroup"===s&&t.set(o,t.get(e)??e),o[a]=s);return o}function Je(e){const t=z(e);return t.isRecursive=!0,t}function Ye(e,t){if(t.has(e))return t.get(e);const n=`$${t.size}_${e.replace(/^[^$_\p{IDS}]|[^$\u200C\u200D\p{IDC}]/gu,"_")}`;return t.set(e,n),n}function et(e){const t=["dotAll","ignoreCase"],n={enable:{},disable:{}};return e.forEach(({flags:e})=>{t.forEach(t=>{e.enable?.[t]&&(delete n.disable[t],n.enable[t]=!0),e.disable?.[t]&&(n.disable[t]=!0)})}),Object.keys(n.enable).length||delete n.enable,Object.keys(n.disable).length||delete n.disable,n.enable||n.disable?n:null}function tt({dotAll:e,ignoreCase:t}){const n={};return(e||t)&&(n.enable={},e&&(n.enable.dotAll=!0),t&&(n.enable.ignoreCase=!0)),e&&t||(n.disable={},!e&&(n.disable.dotAll=!0),!t&&(n.disable.ignoreCase=!0)),n}function nt(e){if(!e)throw new Error("Node expected");const{body:t}=e;return Array.isArray(t)?t:t?[t]:null}function rt(e){const t=e.find(e=>"search_start"===e.kind||function(e,t){const n={negate:null,...t};return"LookaroundAssertion"===e.type&&(null===n.negate||e.negate===n.negate)&&1===e.body.length&&P(e.body[0],{type:"Assertion",kind:"search_start"})}(e,{negate:!1})||!function({type:e}){return"Assertion"===e||"Directive"===e||"LookaroundAssertion"===e}(e));if(!t)return null;if("search_start"===t.kind)return t;if("LookaroundAssertion"===t.type)return t.body[0].body[0];if("CapturingGroup"===t.type||"Group"===t.type){const e=[];for(const n of t.body){const t=rt(n.body);if(!t)return null;Array.isArray(t)?e.push(...t):e.push(t)}return e}return null}function ot(e,t){const n=nt(e)??[];for(const r of n)if(r===t||ot(r,t))return!0;return!1}function at(e){return/^[$_\p{IDS}][$\u200C\u200D\p{IDC}]*$/u.test(e)}function st(e,t){const n=T(e,{...t,unicodePropertyMap:Be}).body;return n.length>1||n[0].body.length>1?V({body:n}):n[0].body[0]}function it(e,t){return e.negate=t,e}function ut(e,t){return e.parent=t,e}function ct(e,t){return Qe(e),e.parent=t,e}function lt(e,t){const n=Te(t),r=Ne(n.target,"ES2024"),o=Ne(n.target,"ES2025"),a=n.rules.recursionLimit;if(!Number.isInteger(a)||a<2||a>20)throw new Error("Invalid recursionLimit; use 2-20");let s=null,i=null;if(!o){const t=[e.flags.ignoreCase];te(e,pt,{getCurrentModI:()=>t.at(-1),popModI(){t.pop()},pushModI(e){t.push(e)},setHasCasedChar(){t.at(-1)?s=!0:i=!0}})}const u={dotAll:e.flags.dotAll,ignoreCase:!(!e.flags.ignoreCase&&!s||i)};let c=e;const l={accuracy:n.accuracy,appliedGlobalFlags:u,captureMap:new Map,currentFlags:{dotAll:e.flags.dotAll,ignoreCase:e.flags.ignoreCase},inCharClass:!1,lastNode:c,originMap:e._originMap,recursionLimit:a,useAppliedIgnoreCase:!(o||!s||!i),useFlagMods:o,useFlagV:r,verbose:n.verbose};function p(e){l.lastNode=c,c=e;return function(e,t){if(null==e)throw new Error(t??"Value expected");return e}(dt[e.type],`Unexpected node type "${e.type}"`)(e,l,p)}const d={pattern:e.body.map(p).join("|"),flags:p(e.flags),options:{...e.options}};return r||(delete d.options.force.v,d.options.disable.v=!0,d.options.unicodeSetsPlugin=null),d._captureTransfers=new Map,d._hiddenCaptures=[],l.captureMap.forEach((e,t)=>{e.hidden&&d._hiddenCaptures.push(t),e.transferTo&&Me(d._captureTransfers,e.transferTo,[]).push(t)}),d}var pt={"*":{enter({node:e},t){if(_t(e)){const n=t.getCurrentModI();t.pushModI(e.flags?Le({ignoreCase:n},e.flags).ignoreCase:n)}},exit({node:e},t){_t(e)&&t.popModI()}},Backreference(e,t){t.setHasCasedChar()},Character({node:e},t){wt(Ie(e.value))&&t.setHasCasedChar()},CharacterClassRange({node:e,skip:t},n){t(),bt(e,{firstOnly:!0}).length&&n.setHasCasedChar()},CharacterSet({node:e},t){"property"===e.kind&&ze.has(e.value)&&t.setHasCasedChar()}},dt={Alternative:({body:e},t,n)=>e.map(n).join(""),Assertion({kind:e,negate:t}){if("string_end"===e)return"$";if("string_start"===e)return"^";if("word_boundary"===e)return t?ve`\B`:ve`\b`;throw new Error(`Unexpected assertion kind "${e}"`)},Backreference({ref:e},t){if("number"!=typeof e)throw new Error("Unexpected named backref in transformed AST");if(!t.useFlagMods&&"strict"===t.accuracy&&t.currentFlags.ignoreCase&&!t.captureMap.get(e).ignoreCase)throw new Error("Use of case-insensitive backref to case-sensitive group requires target ES2025 or non-strict accuracy");return"\\"+e},CapturingGroup(e,t,n){const{body:r,name:o,number:a}=e,s={ignoreCase:t.currentFlags.ignoreCase},i=t.originMap.get(e);return i&&(s.hidden=!0,a>i.number&&(s.transferTo=i.number)),t.captureMap.set(a,s),`(${o?`?<${o}>`:""}${r.map(n).join("|")})`},Character({value:e},t){const n=Ie(e),r=Ct(e,{escDigit:"Backreference"===t.lastNode.type,inCharClass:t.inCharClass,useFlagV:t.useFlagV});if(r!==n)return r;if(t.useAppliedIgnoreCase&&t.currentFlags.ignoreCase&&wt(n)){const e=De(n);return t.inCharClass?e.join(""):e.length>1?`[${e.join("")}]`:e[0]}return n},CharacterClass(e,t,n){const{kind:r,negate:o,parent:a}=e;let{body:s}=e;if("intersection"===r&&!t.useFlagV)throw new Error("Use of class intersection requires min target ES2024");Se.bugFlagVLiteralHyphenIsRange&&t.useFlagV&&s.some(xt)&&(s=[F(45),...s.filter(e=>!xt(e))]);const i=()=>`[${o?"^":""}${s.map(n).join("intersection"===r?"&&":"")}]`;if(!t.inCharClass){if((!t.useFlagV||Se.bugNestedClassIgnoresNegation)&&!o){const t=s.filter(e=>"CharacterClass"===e.type&&"union"===e.kind&&e.negate);if(t.length){const r=V(),o=r.body[0];return r.parent=a,o.parent=r,s=s.filter(e=>!t.includes(e)),e.body=s,s.length?(e.parent=o,o.body.push(e)):r.body.pop(),t.forEach(e=>{const t=O({body:[e]});e.parent=t,t.parent=r,r.body.push(t)}),n(r)}}t.inCharClass=!0;const r=i();return t.inCharClass=!1,r}const u=s[0];if("union"===r&&!o&&u&&((!t.useFlagV||!t.verbose)&&"union"===a.kind&&(!Se.bugFlagVLiteralHyphenIsRange||!t.useFlagV)||!t.verbose&&"intersection"===a.kind&&1===s.length&&"CharacterClassRange"!==u.type))return s.map(n).join("");if(!t.useFlagV&&"CharacterClass"===a.type)throw new Error("Use of nested character class requires min target ES2024");return i()},CharacterClassRange(e,t){const n=e.min.value,r=e.max.value,o={escDigit:!1,inCharClass:!0,useFlagV:t.useFlagV},a=Ct(n,o),s=Ct(r,o),i=new Set;if(t.useAppliedIgnoreCase&&t.currentFlags.ignoreCase){(function(e){const t=e.map(e=>e.codePointAt(0)).sort((e,t)=>e-t),n=[];let r=null;for(let o=0;o<t.length;o++)t[o+1]===t[o]+1?r??=t[o]:null===r?n.push(t[o]):(n.push([r,t[o]]),r=null);return n})(bt(e)).forEach(e=>{i.add(Array.isArray(e)?`${Ct(e[0],o)}-${Ct(e[1],o)}`:Ct(e,o))})}return`${a}-${s}${[...i].join("")}`},CharacterSet({kind:e,negate:t,value:n,key:r},o){if("dot"===e)return o.currentFlags.dotAll?o.appliedGlobalFlags.dotAll||o.useFlagMods?".":"[^]":ve`[^\n]`;if("digit"===e)return t?ve`\D`:ve`\d`;if("property"===e){if(o.useAppliedIgnoreCase&&o.currentFlags.ignoreCase&&ze.has(n))throw new Error(`Unicode property "${n}" can't be case-insensitive when other chars have specific case`);return`${t?ve`\P`:ve`\p`}{${r?`${r}=`:""}${n}}`}if("word"===e)return t?ve`\W`:ve`\w`;throw new Error(`Unexpected character set kind "${e}"`)},Flags:(e,t)=>(t.appliedGlobalFlags.ignoreCase?"i":"")+(e.dotAll?"s":"")+(e.sticky?"y":""),Group({atomic:e,body:t,flags:n,parent:r},o,a){const s=o.currentFlags;n&&(o.currentFlags=Le(s,n));const i=t.map(a).join("|"),u=o.verbose||1!==t.length||"Quantifier"===r.type||e||o.useFlagMods&&n?`(?${function(e,t,n){if(e)return">";let r="";if(t&&n){const{enable:e,disable:n}=t;r=(e?.ignoreCase?"i":"")+(e?.dotAll?"s":"")+(n?"-":"")+(n?.ignoreCase?"i":"")+(n?.dotAll?"s":"")}return`${r}:`}(e,n,o.useFlagMods)}${i})`:i;return o.currentFlags=s,u},LookaroundAssertion:({body:e,kind:t,negate:n},r,o)=>`(?${`${"lookahead"===t?"":"<"}${n?"!":"="}`}${e.map(o).join("|")})`,Quantifier:(e,t,n)=>n(e.body)+function({kind:e,max:t,min:n}){let r;r=n||1!==t?n||t!==1/0?1===n&&t===1/0?"+":n===t?`{${n}}`:`{${n},${t===1/0?"":t}}`:"*":"?";return r+{greedy:"",lazy:"?",possessive:"+"}[e]}(e),Subroutine({isRecursive:e,ref:t},n){if(!e)throw new Error("Unexpected non-recursive subroutine in transformed AST");const r=n.recursionLimit;return 0===t?`(?R=${r})`:ve`\g<${t}&R=${r}>`}},ft=new Set(["$","(",")","*","+",".","?","[","\\","]","^","{","|","}"]),ht=new Set(["-","\\","]","^","["]),gt=new Set(["(",")","-","/","[","\\","]","^","{","|","}","!","#","$","%","&","*","+",",",".",":",";","<","=",">","?","@","`","~"]),mt=new Map([[9,ve`\t`],[10,ve`\n`],[11,ve`\v`],[12,ve`\f`],[13,ve`\r`],[8232,ve`\u2028`],[8233,ve`\u2029`],[65279,ve`\uFEFF`]]),yt=new RegExp("^\\p{Cased}$","u");function wt(e){return yt.test(e)}function bt(e,t){const n=!!t?.firstOnly,r=e.min.value,o=e.max.value,a=[];if(r<65&&(65535===o||o>=131071)||65536===r&&o>=131071)return a;for(let s=r;s<=o;s++){const e=Ie(s);if(!wt(e))continue;const t=De(e).filter(e=>{const t=e.codePointAt(0);return t<r||t>o});if(t.length&&(a.push(...t),n))break}return a}function Ct(e,{escDigit:t,inCharClass:n,useFlagV:r}){if(mt.has(e))return mt.get(e);if(e<32||e>126&&e<160||e>262143||t&&((o=e)>47&&o<58))return e>255?`\\u{${e.toString(16).toUpperCase()}}`:`\\x${e.toString(16).toUpperCase().padStart(2,"0")}`;var o;const a=n?r?gt:ht:ft,s=Ie(e);return(a.has(s)?"\\":"")+s}function _t({type:e}){return"CapturingGroup"===e||"Group"===e||"LookaroundAssertion"===e}function xt({type:e,value:t}){return"Character"===e&&45===t}var Et=class e extends RegExp{#e=new Map;#t=null;#n;#r=null;#o=null;rawOptions={};get source(){return this.#n||"(?:)"}constructor(t,n,r){const o=!!r?.lazyCompile;if(t instanceof RegExp){if(r)throw new Error("Cannot provide options when copying a regexp");const o=t;super(o,n),this.#n=o.source,o instanceof e&&(this.#e=o.#e,this.#r=o.#r,this.#o=o.#o,this.rawOptions=o.rawOptions)}else{const e={hiddenCaptures:[],strategy:null,transfers:[],...r};super(o?"":t,n),this.#n=t,this.#e=function(e,t){const n=new Map;for(const r of e)n.set(r,{hidden:!0});for(const[r,o]of t)for(const e of o)Me(n,e,{}).transferTo=r;return n}(e.hiddenCaptures,e.transfers),this.#o=e.strategy,this.rawOptions=r??{}}o||(this.#t=this)}exec(t){if(!this.#t){const{lazyCompile:t,...n}=this.rawOptions;this.#t=new e(this.#n,this.flags,n)}const n=this.global||this.sticky,r=this.lastIndex;if("clip_search"===this.#o&&n&&r){this.lastIndex=0;const e=this.#a(t.slice(r));return e&&(!function(e,t,n,r){if(e.index+=t,e.input=n,r){const n=e.indices;for(let e=0;e<n.length;e++){const r=n[e];r&&(n[e]=[r[0]+t,r[1]+t])}const r=n.groups;r&&Object.keys(r).forEach(e=>{const n=r[e];n&&(r[e]=[n[0]+t,n[1]+t])})}}(e,r,t,this.hasIndices),this.lastIndex+=r),e}return this.#a(t)}#a(e){this.#t.lastIndex=this.lastIndex;const t=super.exec.call(this.#t,e);if(this.lastIndex=this.#t.lastIndex,!t||!this.#e.size)return t;const n=[...t];let r;t.length=1,this.hasIndices&&(r=[...t.indices],t.indices.length=1);const o=[0];for(let a=1;a<n.length;a++){const{hidden:e,transferTo:s}=this.#e.get(a)??{};if(e?o.push(null):(o.push(t.length),t.push(n[a]),this.hasIndices&&t.indices.push(r[a])),s&&void 0!==n[a]){const e=o[s];if(!e)throw new Error(`Invalid capture transfer to "${e}"`);if(t[e]=n[a],this.hasIndices&&(t.indices[e]=r[a]),t.groups){this.#r||(this.#r=kt(this.source));const e=this.#r.get(s);e&&(t.groups[e]=n[a],this.hasIndices&&(t.indices.groups[e]=r[a]))}}}return t}};function kt(e){const t=/(?<capture>\((?:\?<(?![=!])(?<name>[^>]+)>|(?!\?)))|\\?./gsu,n=new Map;let r,o=0,a=0;for(;r=t.exec(e);){const{0:e,groups:{capture:t,name:s}}=r;"["===e?o++:o?"]"===e&&o--:t&&(a++,s&&n.set(a,s))}return n}function At(e,t){const n=function(e,t){const n=Te(t),r=T(e,{flags:n.flags,normalizeUnknownPropertyNames:!0,rules:{captureGroup:n.rules.captureGroup,singleline:n.rules.singleline},skipBackrefValidation:n.rules.allowOrphanBackrefs,unicodePropertyMap:Be}),o=function(e,t){const n={accuracy:"default",asciiWordBoundaries:!1,avoidSubclass:!1,bestEffortTarget:"ES2025",...t};Qe(e);const r={accuracy:n.accuracy,asciiWordBoundaries:n.asciiWordBoundaries,avoidSubclass:n.avoidSubclass,flagDirectivesByAlt:new Map,jsGroupNameMap:new Map,minTargetEs2024:Ne(n.bestEffortTarget,"ES2024"),passedLookbehind:!1,strategy:null,subroutineRefMap:new Map,supportedGNodes:new Set,digitIsAscii:e.flags.digitIsAscii,spaceIsAscii:e.flags.spaceIsAscii,wordIsAscii:e.flags.wordIsAscii};te(e,Xe,r);const o={dotAll:e.flags.dotAll,ignoreCase:e.flags.ignoreCase},a={currentFlags:o,prevFlags:null,globalFlags:o,groupOriginByCopy:new Map,groupsByName:new Map,multiplexCapturesToLeftByRef:new Map,openRefs:new Map,reffedNodesByReferencer:new Map,subroutineRefMap:r.subroutineRefMap};return te(e,Ze,a),te(e,qe,{groupsByName:a.groupsByName,highestOrphanBackref:0,numCapturesToLeft:0,reffedNodesByReferencer:a.reffedNodesByReferencer}),e._originMap=a.groupOriginByCopy,e._strategy=r.strategy,e}(r,{accuracy:n.accuracy,asciiWordBoundaries:n.rules.asciiWordBoundaries,avoidSubclass:n.avoidSubclass,bestEffortTarget:n.target}),a=lt(o,n),s=function(e,t){const{hiddenCaptures:n,mode:r}={hiddenCaptures:[],mode:"plugin",...t};let o=t?.captureTransfers??new Map;if(!new RegExp(ye,"su").test(e))return{pattern:e,captureTransfers:o,hiddenCaptures:n};if("plugin"===r&&le(e,ge`\(\?\(DEFINE\)`,ie.DEFAULT))throw new Error("DEFINE groups cannot be used with recursion");const a=[],s=le(e,ge`\\[1-9]`,ie.DEFAULT),i=new Map,u=[];let c,l=!1,p=0,d=0;for(Ce.lastIndex=0;c=Ce.exec(e);){const{0:t,groups:{captureName:f,rDepth:h,gRNameOrNum:g,gRDepth:m}}=c;if("["===t)p++;else if(p)"]"===t&&p--;else{if(h){if(xe(h),l)throw new Error(_e);if(s)throw new Error(("external"===r?"Backrefs":"Numbered backrefs")+" cannot be used with global recursion");const t=e.slice(0,c.index),i=e.slice(Ce.lastIndex);if(le(i,ye,ie.DEFAULT))throw new Error(_e);const u=+h-1;e=Ee(t,i,u,!1,n,a,d),o=$e(o,t,u,a.length,0,d);break}if(g){xe(m);let p=!1;for(const e of u)if(e.name===g||e.num===+g){if(p=!0,e.hasRecursedWithin)throw new Error(_e);break}if(!p)throw new Error(ge`Recursive \g cannot be used outside the referenced group "${"external"===r?g:ge`\g<${g}&R=${m}>`}"`);const f=i.get(g),h=pe(e,f);if(s&&le(h,ge`${we}|\((?!\?)`,ie.DEFAULT))throw new Error(("external"===r?"Backrefs":"Numbered backrefs")+" cannot be used with recursion of capturing groups");const y=e.slice(f,c.index),w=h.slice(y.length+t.length),b=a.length,C=+m-1,_=Ee(y,w,C,!0,n,a,d);o=$e(o,y,C,a.length-b,b,d);const x=e.slice(0,f),E=e.slice(f+h.length);e=`${x}${_}${E}`,Ce.lastIndex+=_.length-t.length-y.length-w.length,u.forEach(e=>e.hasRecursedWithin=!0),l=!0}else if(f)d++,i.set(String(d),Ce.lastIndex),i.set(f,Ce.lastIndex),u.push({num:d,name:f});else if("("===t[0]){const e="("===t;e&&(d++,i.set(String(d),Ce.lastIndex)),u.push(e?{num:d}:{})}else")"===t&&u.pop()}}return n.push(...a),{pattern:e,captureTransfers:o,hiddenCaptures:n}}(a.pattern,{captureTransfers:a._captureTransfers,hiddenCaptures:a._hiddenCaptures,mode:"external"}),i=function(e,t){const n=t?.hiddenCaptures??[];let r=t?.captureTransfers??new Map;if(!/\(\?>/.test(e))return{pattern:e,captureTransfers:r,hiddenCaptures:n};const o="(?:(?=(",a=[0],s=[];let i,u=0,c=0,l=NaN;do{i=!1;let t,p=0,d=0,f=!1;for(de.lastIndex=Number.isNaN(l)?0:l+7;t=de.exec(e);){const{0:h,index:g,groups:{capturingStart:m,noncapturingStart:y}}=t;if("["===h)p++;else if(p)"]"===h&&p--;else if("(?>"!==h||f){if(f&&y)d++;else if(m)f?d++:(u++,a.push(u+c));else if(")"===h&&f){if(!d){c++;const t=u+c;if(e=`${e.slice(0,l)}${o}${e.slice(l+3,g)}))<$$${t}>)${e.slice(g+1)}`,i=!0,s.push(t),ae(n,t),r.size){const e=new Map;r.forEach((n,r)=>{e.set(r>=t?r+1:r,n.map(e=>e>=t?e+1:e))}),r=e}break}d--}}else l=g,f=!0}}while(i);return n.push(...s),{pattern:e=ue(e,String.raw`\\(?<backrefNum>[1-9]\d*)|<\$\$(?<wrappedBackrefNum>\d+)>`,({0:e,groups:{backrefNum:t,wrappedBackrefNum:n}})=>{if(t){const n=+t;if(n>a.length-1)throw new Error(`Backref "${e}" greater than number of captures`);return`\\${a[n]}`}return`\\${n}`},ie.DEFAULT),captureTransfers:r,hiddenCaptures:n}}(function(e){if(!new RegExp(`${fe}\\+`).test(e))return{pattern:e};const t=[];let n,r=null,o=null,a="",s=0;for(he.lastIndex=0;n=he.exec(e);){const{0:i,index:u,groups:{qBase:c,qMod:l,invalidQ:p}}=n;if("["===i)s||(o=u),s++;else if("]"===i)s?s--:o=null;else if(!s)if("+"===l&&a&&!a.startsWith("(")){if(p)throw new Error(`Invalid quantifier "${i}"`);let t=-1;if(/^\{\d+\}$/.test(c))e=se(e,u+c.length,l,"");else{if(")"===a||"]"===a){const t=")"===a?r:o;if(null===t)throw new Error(`Invalid unmatched "${a}"`);e=`${e.slice(0,t)}(?>${e.slice(t,u)}${c})${e.slice(u+i.length)}`}else e=`${e.slice(0,u-a.length)}(?>${a}${c})${e.slice(u+i.length)}`;t+=4}he.lastIndex+=t}else"("===i[0]?t.push(u):")"===i&&(r=t.length?t.pop():null);a=i}return{pattern:e}}(s.pattern).pattern,{captureTransfers:s.captureTransfers,hiddenCaptures:s.hiddenCaptures}),u={pattern:i.pattern,flags:`${n.hasIndices?"d":""}${n.global?"g":""}${a.flags}${a.options.disable.v?"u":"v"}`};if(n.avoidSubclass){if(n.lazyCompileLength!==1/0)throw new Error("Lazy compilation requires subclass")}else{const e=i.hiddenCaptures.sort((e,t)=>e-t),t=Array.from(i.captureTransfers),r=o._strategy,a=u.pattern.length>=n.lazyCompileLength;(e.length||t.length||r||a)&&(u.options={...e.length&&{hiddenCaptures:e},...t.length&&{transfers:t},...r&&{strategy:r},...a&&{lazyCompile:a}})}return u}(e,t);return n.options?new Et(n.pattern,n.flags,n.options):new RegExp(n.pattern,n.flags)}const $t=4294967295;class It{constructor(e,t={}){this.patterns=e,this.options=t;const{forgiving:n=!1,cache:r,regexConstructor:o}=t;if(!o)throw new Error("Option `regexConstructor` is not provided");this.regexps=e.map(e=>{if("string"!=typeof e)return e;const t=r?.get(e);if(t){if(t instanceof RegExp)return t;if(n)return null;throw t}try{const t=o(e);return r?.set(e,t),t}catch(a){if(r?.set(e,a),n)return null;throw a}})}regexps;findNextMatchSync(e,t,n){const r="string"==typeof e?e:e.content,o=[];function a(e,t,n=0){return{index:e,captureIndices:t.indices.map(e=>null==e?{start:$t,end:$t,length:0}:{start:e[0]+n,end:e[1]+n,length:e[1]-e[0]})}}for(let i=0;i<this.regexps.length;i++){const e=this.regexps[i];if(e)try{e.lastIndex=t;const n=e.exec(r);if(!n)continue;if(n.index===t)return a(i,n,0);o.push([i,n,0])}catch(s){if(this.options.forgiving)continue;throw s}}if(o.length){const e=Math.min(...o.map(e=>e[1].index));for(const[t,n,r]of o)if(n.index===e)return a(t,n,r)}return null}}function vt(e={}){const t=Object.assign({target:"auto",cache:new Map},e);return t.regexConstructor||=e=>function(e,t){return At(e,{global:!0,hasIndices:!0,lazyCompileLength:3e3,rules:{allowOrphanBackrefs:!0,asciiWordBoundaries:!0,captureGroup:!0,recursionLimit:5,singleline:!0},...t})}(e,{target:t.target}),{createScanner:e=>new It(e,t),createString:e=>({content:e})}}class St extends Error{constructor(e){super(e),this.name="ShikiError"}}function Lt(){return"undefined"!=typeof performance?performance.now():Date.now()}const Mt=(e,t)=>e+(t-e%t)%t;async function Nt(e){let t,n;const r={};function o(e){n=e,r.HEAPU8=new Uint8Array(e),r.HEAPU32=new Uint32Array(e)}function a(e){try{return t.grow(e-n.byteLength+65535>>>16),o(t.buffer),1}catch{}}const s="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function i(e,t){return e?function(e,t,n=1024){const r=t+n;let o=t;for(;e[o]&&!(o>=r);)++o;if(o-t>16&&e.buffer&&s)return s.decode(e.subarray(t,o));let a="";for(;t<o;){let n=e[t++];if(!(128&n)){a+=String.fromCharCode(n);continue}const r=63&e[t++];if(192==(224&n)){a+=String.fromCharCode((31&n)<<6|r);continue}const o=63&e[t++];if(n=224==(240&n)?(15&n)<<12|r<<6|o:(7&n)<<18|r<<12|o<<6|63&e[t++],n<65536)a+=String.fromCharCode(n);else{const e=n-65536;a+=String.fromCharCode(55296|e>>10,56320|1023&e)}}return a}(r.HEAPU8,e,t):""}const u={emscripten_get_now:Lt,emscripten_memcpy_big:function(e,t,n){r.HEAPU8.copyWithin(e,t,t+n)},emscripten_resize_heap:function(e){const t=r.HEAPU8.length,n=2147483648;if((e>>>=0)>n)return!1;for(let r=1;r<=4;r*=2){let o=t*(1+.2/r);o=Math.min(o,e+100663296);if(a(Math.min(n,Mt(Math.max(e,o),65536))))return!0}return!1},fd_write:()=>0};return await async function(){const n={env:u,wasi_snapshot_preview1:u},a=await e(n);t=a.memory,o(t.buffer),Object.assign(r,a),r.UTF8ToString=i}(),r}var Pt=Object.defineProperty,Ut=(e,t,n)=>((e,t,n)=>t in e?Pt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);let Tt=null;class Ot{constructor(e){Ut(this,"utf16Length"),Ut(this,"utf8Length"),Ut(this,"utf16Value"),Ut(this,"utf8Value"),Ut(this,"utf16OffsetToUtf8"),Ut(this,"utf8OffsetToUtf16");const t=e.length,n=Ot._utf8ByteLength(e),r=n!==t,o=r?new Uint32Array(t+1):null;r&&(o[t]=n);const a=r?new Uint32Array(n+1):null;r&&(a[n]=t);const s=new Uint8Array(n);let i=0;for(let u=0;u<t;u++){const n=e.charCodeAt(u);let c=n,l=!1;if(n>=55296&&n<=56319&&u+1<t){const t=e.charCodeAt(u+1);t>=56320&&t<=57343&&(c=65536+(n-55296<<10)|t-56320,l=!0)}r&&(o[u]=i,l&&(o[u+1]=i),c<=127?a[i+0]=u:c<=2047?(a[i+0]=u,a[i+1]=u):c<=65535?(a[i+0]=u,a[i+1]=u,a[i+2]=u):(a[i+0]=u,a[i+1]=u,a[i+2]=u,a[i+3]=u)),c<=127?s[i++]=c:c<=2047?(s[i++]=192|(1984&c)>>>6,s[i++]=128|(63&c)>>>0):c<=65535?(s[i++]=224|(61440&c)>>>12,s[i++]=128|(4032&c)>>>6,s[i++]=128|(63&c)>>>0):(s[i++]=240|(1835008&c)>>>18,s[i++]=128|(258048&c)>>>12,s[i++]=128|(4032&c)>>>6,s[i++]=128|(63&c)>>>0),l&&u++}this.utf16Length=t,this.utf8Length=n,this.utf16Value=e,this.utf8Value=s,this.utf16OffsetToUtf8=o,this.utf8OffsetToUtf16=a}static _utf8ByteLength(e){let t=0;for(let n=0,r=e.length;n<r;n++){const o=e.charCodeAt(n);let a=o,s=!1;if(o>=55296&&o<=56319&&n+1<r){const t=e.charCodeAt(n+1);t>=56320&&t<=57343&&(a=65536+(o-55296<<10)|t-56320,s=!0)}t+=a<=127?1:a<=2047?2:a<=65535?3:4,s&&n++}return t}createString(e){const t=e.omalloc(this.utf8Length);return e.HEAPU8.set(this.utf8Value,t),t}}const Rt=class e{constructor(t){if(Ut(this,"id",++e.LAST_ID),Ut(this,"_onigBinding"),Ut(this,"content"),Ut(this,"utf16Length"),Ut(this,"utf8Length"),Ut(this,"utf16OffsetToUtf8"),Ut(this,"utf8OffsetToUtf16"),Ut(this,"ptr"),!Tt)throw new St("Must invoke loadWasm first.");this._onigBinding=Tt,this.content=t;const n=new Ot(t);this.utf16Length=n.utf16Length,this.utf8Length=n.utf8Length,this.utf16OffsetToUtf8=n.utf16OffsetToUtf8,this.utf8OffsetToUtf16=n.utf8OffsetToUtf16,this.utf8Length<1e4&&!e._sharedPtrInUse?(e._sharedPtr||(e._sharedPtr=Tt.omalloc(1e4)),e._sharedPtrInUse=!0,Tt.HEAPU8.set(n.utf8Value,e._sharedPtr),this.ptr=e._sharedPtr):this.ptr=n.createString(Tt)}convertUtf8OffsetToUtf16(e){return this.utf8OffsetToUtf16?e<0?0:e>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[e]:e}convertUtf16OffsetToUtf8(e){return this.utf16OffsetToUtf8?e<0?0:e>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[e]:e}dispose(){this.ptr===e._sharedPtr?e._sharedPtrInUse=!1:this._onigBinding.ofree(this.ptr)}};Ut(Rt,"LAST_ID",0),Ut(Rt,"_sharedPtr",0),Ut(Rt,"_sharedPtrInUse",!1);let Dt,Bt=Rt;class Ft{constructor(e){if(Ut(this,"_onigBinding"),Ut(this,"_ptr"),!Tt)throw new St("Must invoke loadWasm first.");const t=[],n=[];for(let s=0,i=e.length;s<i;s++){const r=new Ot(e[s]);t[s]=r.createString(Tt),n[s]=r.utf8Length}const r=Tt.omalloc(4*e.length);Tt.HEAPU32.set(t,r/4);const o=Tt.omalloc(4*e.length);Tt.HEAPU32.set(n,o/4);const a=Tt.createOnigScanner(r,o,e.length);for(let s=0,i=e.length;s<i;s++)Tt.ofree(t[s]);Tt.ofree(o),Tt.ofree(r),0===a&&function(e){throw new St(e.UTF8ToString(e.getLastOnigError()))}(Tt),this._onigBinding=Tt,this._ptr=a}dispose(){this._onigBinding.freeOnigScanner(this._ptr)}findNextMatchSync(e,t,n){let r=0;if("number"==typeof n&&(r=n),"string"==typeof e){e=new Bt(e);const n=this._findNextMatchSync(e,t,!1,r);return e.dispose(),n}return this._findNextMatchSync(e,t,!1,r)}_findNextMatchSync(e,t,n,r){const o=this._onigBinding,a=o.findNextOnigScannerMatch(this._ptr,e.id,e.ptr,e.utf8Length,e.convertUtf16OffsetToUtf8(t),r);if(0===a)return null;const s=o.HEAPU32;let i=a/4;const u=s[i++],c=s[i++],l=[];for(let p=0;p<c;p++){const t=e.convertUtf8OffsetToUtf16(s[i++]),n=e.convertUtf8OffsetToUtf16(s[i++]);l[p]={start:t,end:n,length:n-t}}return{index:u,captureIndices:l}}}function Gt(e){if(Dt)return Dt;return Dt=async function(){Tt=await Nt(async t=>{let n=e;var r;return n=await n,"function"==typeof n&&(n=await n(t)),"function"==typeof n&&(n=await n(t)),"function"==typeof n.instantiator?n=await n.instantiator(t):!function(e){return"function"==typeof e.default}(n)?(function(e){return void 0!==e.data}(n)&&(n=n.data),!function(e){return"undefined"!=typeof Response&&e instanceof Response}(n)?!function(e){return"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||ArrayBuffer.isView(e))||"undefined"!=typeof Buffer&&Buffer.isBuffer?.(e)||"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer||"undefined"!=typeof Uint32Array&&e instanceof Uint32Array}(n)?n instanceof WebAssembly.Module?n=await jt(n)(t):"default"in n&&n.default instanceof WebAssembly.Module&&(n=await jt(n.default)(t)):n=await jt(n)(t):n="function"==typeof WebAssembly.instantiateStreaming?await(r=n,e=>WebAssembly.instantiateStreaming(r,e))(t):await function(e){return async t=>{const n=await e.arrayBuffer();return WebAssembly.instantiate(n,t)}}(n)(t)):n=await n.default(t),"instance"in n&&(n=n.instance),"exports"in n&&(n=n.exports),n})}(),Dt}function jt(e){return t=>WebAssembly.instantiate(e,t)}function Vt({langs:t=[],themes:n=[],bundledLangs:r={},bundledThemes:o={},getMdcConfigs:a,options:s,engine:i}={}){let u,c;async function l(){return u||(u=async function(){const{createHighlighterCore:r,addClassToHast:o,isSpecialLang:a,isSpecialTheme:s}=await e(async()=>{const{createHighlighterCore:e,addClassToHast:t,isSpecialLang:n,isSpecialTheme:r}=await import("./Ds2ACVtp.js");return{createHighlighterCore:e,addClassToHast:t,isSpecialLang:n,isSpecialTheme:r}},__vite__mapDeps([0,1,2,3,4,5,6]),import.meta.url),{transformerNotationDiff:u,transformerNotationErrorLevel:c,transformerNotationFocus:l,transformerNotationHighlight:d}=await e(async()=>{const{transformerNotationDiff:e,transformerNotationErrorLevel:t,transformerNotationFocus:n,transformerNotationHighlight:r}=await import("./S8fcEt8f.js");return{transformerNotationDiff:e,transformerNotationErrorLevel:t,transformerNotationFocus:n,transformerNotationHighlight:r}},[],import.meta.url),f=await r({langs:t,themes:n,engine:i||vt()});for await(const e of await p())await(e.shiki?.setup?.(f));return{shiki:f,addClassToHast:o,isSpecialLang:a,isSpecialTheme:s,transformers:[u(),c(),l(),d()]}}()),u}async function p(){return c||(c=Promise.resolve(a?.()||[])),c}return async(e,t,n,a={})=>{const{shiki:i,addClassToHast:u,isSpecialLang:c,isSpecialTheme:d,transformers:f}=await l(),h={defaultColor:!1,meta:{__raw:a.meta}};"ts-type"===t||"typescript-type"===t?(t="typescript",h.grammarContextCode="let a:"):"vue-html"!==t&&"vue-template"!==t||(t="vue",h.grammarContextCode="<template>");const g={..."string"==typeof n?{default:n}:n||{}},m=i.getLoadedThemes(),y=i.getLoadedLanguages();"string"!=typeof t||y.includes(t)||c(t)||(r[t]?await i.loadLanguage(r[t]):t="text");for(const[r,s]of Object.entries(g))"string"!=typeof s||m.includes(s)||d(s)||(o[s]?await i.loadTheme(o[s]):g[r]="none");const w=new Map;for(const r of f)w.set(r.name||`transformer:${Math.random()}-${r.constructor.name}`,r);for(const r of await p()){const o="function"==typeof r.shiki?.transformers?await(r.shiki?.transformers(e,t,n,a)):r.shiki?.transformers||[];for(const e of o)w.set(e.name||`transformer:${Math.random()}-${e.constructor.name}`,e)}const b=i.codeToHast(e.trimEnd(),{lang:t,...h,themes:g,transformers:[...w.values(),{name:"mdc:highlight",line(e,t){a.highlights?.includes(t)&&u(e,"highlight"),e.properties.line=t}},{name:"mdc:newline",line(t){if(e?.includes("\n")){if(0===t.children.length||1===t.children.length&&"element"===t.children[0].type&&1===t.children[0].children.length&&"text"===t.children[0].children[0].type&&""===t.children[0].children[0].value)return void(t.children=[{type:"element",tagName:"span",properties:{emptyLinePlaceholder:!0},children:[{type:"text",value:"\n"}]}]);const e=t.children.at(-1);if("element"===e?.type&&"span"===e.tagName){const t=e.children.at(-1);"text"===t?.type&&(t.value+="\n")}}}}]}).children[0],C=b.children[0],_=s?.wrapperStyle;b.properties.style=_?"string"==typeof _?_:b.properties.style:"";const x=[];return Object.keys(g).forEach(e=>{const t="default"!==e?`.${e}`:"";x.push(_?`${t} .shiki,`:"",`html .${e} .shiki span {`,`color: var(--shiki-${e});`,`background: var(--shiki-${e}-bg);`,`font-style: var(--shiki-${e}-font-style);`,`font-weight: var(--shiki-${e}-font-weight);`,`text-decoration: var(--shiki-${e}-text-decoration);`,"}"),x.push(`html${t} .shiki span {`,`color: var(--shiki-${e});`,`background: var(--shiki-${e}-bg);`,`font-style: var(--shiki-${e}-font-style);`,`font-weight: var(--shiki-${e}-font-weight);`,`text-decoration: var(--shiki-${e}-text-decoration);`,"}")}),{tree:C.children,className:Array.isArray(b.properties.class)?b.properties.class.join(" "):b.properties.class,inlineStyle:b.properties.style,style:x.join("")}}}const Wt=Vt({bundledLangs:{javascript:()=>e(()=>import("./CY0YvwoL.js"),[],import.meta.url).then(e=>e.default||e),js:()=>e(()=>import("./CY0YvwoL.js"),[],import.meta.url).then(e=>e.default||e),jsx:()=>e(()=>import("./g2NrEQII.js"),[],import.meta.url).then(e=>e.default||e),json:()=>e(()=>import("./LWN7Ml79.js"),[],import.meta.url).then(e=>e.default||e),typescript:()=>e(()=>import("./C6YI4KwS.js"),[],import.meta.url).then(e=>e.default||e),ts:()=>e(()=>import("./C6YI4KwS.js"),[],import.meta.url).then(e=>e.default||e),tsx:()=>e(()=>import("./DYwE5ssU.js"),[],import.meta.url).then(e=>e.default||e),vue:()=>e(()=>import("./BYGdo5BW.js"),__vite__mapDeps([7,8,9,10,11,12,13]),import.meta.url).then(e=>e.default||e),css:()=>e(()=>import("./l46fsARh.js"),[],import.meta.url).then(e=>e.default||e),html:()=>e(()=>import("./BrQ7heqt.js"),__vite__mapDeps([13,9,8]),import.meta.url).then(e=>e.default||e),shellscript:()=>e(()=>import("./B8OHlvmy.js"),[],import.meta.url).then(e=>e.default||e),bash:()=>e(()=>import("./B8OHlvmy.js"),[],import.meta.url).then(e=>e.default||e),sh:()=>e(()=>import("./B8OHlvmy.js"),[],import.meta.url).then(e=>e.default||e),shell:()=>e(()=>import("./B8OHlvmy.js"),[],import.meta.url).then(e=>e.default||e),zsh:()=>e(()=>import("./B8OHlvmy.js"),[],import.meta.url).then(e=>e.default||e),markdown:()=>e(()=>import("./7S-v4t1x.js"),[],import.meta.url).then(e=>e.default||e),md:()=>e(()=>import("./7S-v4t1x.js"),[],import.meta.url).then(e=>e.default||e),mdc:()=>e(()=>import("./D7Q2Yj56.js"),__vite__mapDeps([14,15,16,12,13,9,8]),import.meta.url).then(e=>e.default||e),yaml:()=>e(()=>import("./c2-Vhxho.js"),[],import.meta.url).then(e=>e.default||e),yml:()=>e(()=>import("./c2-Vhxho.js"),[],import.meta.url).then(e=>e.default||e)},bundledThemes:{"material-theme-lighter":()=>e(()=>import("./B0m2ddpp.js"),[],import.meta.url).then(e=>e.default||e),"material-theme":()=>e(()=>import("./D5KoaKCx.js"),[],import.meta.url).then(e=>e.default||e),"material-theme-palenight":()=>e(()=>import("./Csfq5Kiy.js"),[],import.meta.url).then(e=>e.default||e)},options:{},getMdcConfigs:t,engine:async function(e){return e&&await Gt(e),{createScanner:e=>new Ft(e.map(e=>"string"==typeof e?e:e.source)),createString:e=>new Bt(e)}}(()=>e(()=>import("./-yL7jHw-.js"),[],import.meta.url))});export{Vt as createShikiHighlighter,Wt as default};
