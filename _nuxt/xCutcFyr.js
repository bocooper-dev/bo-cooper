import{d as t,y as e,D as i,A as s,Y as n,X as r,ac as o,H as a,ai as p,O as l,T as c,a9 as d,N as h,am as g}from"./BOuGH_in.js";import{s as u,u as f,a as y,_ as m,b,w,c as v,d as T,j as E,e as _,f as A,r as x,g as j,h as R}from"./5O3QQFvq.js";import{_ as P}from"./BCo6x5W8.js";import{loadDatabaseAdapter as S}from"./CfmQD7VH.js";const C=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],k=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],$=[];class M{_data=new N;_hash=new N([...C]);_nDataBytes=0;_minBufferSize=0;finalize(t){t&&this._append(t);const e=8*this._nDataBytes,i=8*this._data.sigBytes;return this._data.words[i>>>5]|=128<<24-i%32,this._data.words[14+(i+64>>>9<<4)]=Math.floor(e/4294967296),this._data.words[15+(i+64>>>9<<4)]=e,this._data.sigBytes=4*this._data.words.length,this._process(),this._hash}_doProcessBlock(t,e){const i=this._hash.words;let s=i[0],n=i[1],r=i[2],o=i[3],a=i[4],p=i[5],l=i[6],c=i[7];for(let d=0;d<64;d++){if(d<16)$[d]=0|t[e+d];else{const t=$[d-15],e=(t<<25|t>>>7)^(t<<14|t>>>18)^t>>>3,i=$[d-2],s=(i<<15|i>>>17)^(i<<13|i>>>19)^i>>>10;$[d]=e+$[d-7]+s+$[d-16]}const i=s&n^s&r^n&r,h=(s<<30|s>>>2)^(s<<19|s>>>13)^(s<<10|s>>>22),g=c+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&p^~a&l)+k[d]+$[d];c=l,l=p,p=a,a=o+g|0,o=r,r=n,n=s,s=g+(h+i)|0}i[0]=i[0]+s|0,i[1]=i[1]+n|0,i[2]=i[2]+r|0,i[3]=i[3]+o|0,i[4]=i[4]+a|0,i[5]=i[5]+p|0,i[6]=i[6]+l|0,i[7]=i[7]+c|0}_append(t){"string"==typeof t&&(t=N.fromUtf8(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes}_process(t){let e,i=this._data.sigBytes/64;i=t?Math.ceil(i):Math.max((0|i)-this._minBufferSize,0);const s=16*i,n=Math.min(4*s,this._data.sigBytes);if(s){for(let t=0;t<s;t+=16)this._doProcessBlock(this._data.words,t);e=this._data.words.splice(0,s),this._data.sigBytes-=n}return new N(e,n)}}class N{words;sigBytes;constructor(t,e){t=this.words=t||[],this.sigBytes=void 0===e?4*t.length:e}static fromUtf8(t){const e=unescape(encodeURIComponent(t)),i=e.length,s=[];for(let n=0;n<i;n++)s[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new N(s,i)}toBase64(){const t=[];for(let e=0;e<this.sigBytes;e+=3){const i=(this.words[e>>>2]>>>24-e%4*8&255)<<16|(this.words[e+1>>>2]>>>24-(e+1)%4*8&255)<<8|this.words[e+2>>>2]>>>24-(e+2)%4*8&255;for(let s=0;s<4&&8*e+6*s<8*this.sigBytes;s++)t.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".charAt(i>>>6*(3-s)&63))}return t.join("")}concat(t){if(this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4),this.sigBytes%4)for(let e=0;e<t.sigBytes;e++){const i=t.words[e>>>2]>>>24-e%4*8&255;this.words[this.sigBytes+e>>>2]|=i<<24-(this.sigBytes+e)%4*8}else for(let e=0;e<t.sigBytes;e+=4)this.words[this.sigBytes+e>>>2]=t.words[e>>>2];this.sigBytes+=t.sigBytes}}function O(t){return e=u(t),(new M).finalize(e).toBase64();var e}const L={key:0},I={key:0},X={id:"__preview_loader"},q=P({__name:"ContentPreviewMode",props:{previewToken:{type:String,required:!0},api:{type:String,required:!0},initializePreview:{type:Function,required:!0}},setup(g){const u=g,w=["__nuxt_preview","__preview_enabled"],v=f(),T=y(),E=t(!0),_=t(!1),A=t(!1),x=t("");let j;const R=async()=>{b("previewToken").value="",window.sessionStorage.removeItem("previewToken"),window.sessionStorage.removeItem("previewAPI"),await T.replace({query:{preview:void 0}}),window.location.reload()};return e(async()=>{const t=await m(()=>import("./C_DepAbV.js"),[],import.meta.url);let e;j=t.connect(`${u.api}/preview`,{transports:["websocket","polling"],auth:{token:u.previewToken}}),j.on("connect",()=>{e=setTimeout(()=>{A.value||(e=setTimeout(()=>{x.value="Preview sync timed out",A.value=!1},3e4),j.emit("draft:requestSync"))},3e4)});const i=()=>{e&&(clearTimeout(e),e=null)};j.on("draft:sync",async t=>{if(i(),t)(async t=>{await u.initializePreview(t),b("previewToken").value&&(A.value=!0,await T.replace({query:{}}),v.callHook("nuxt-content:preview:ready"),window.parent&&window.self!==window.parent&&j.disconnect())})(t);else try{j.once("draft:ready",()=>{j.emit("draft:requestSync")}),await $fetch("api/projects/preview/sync",{baseURL:u.api,method:"POST",params:{token:u.previewToken}})}catch(e){if(i(),404===e.response.status)x.value="Preview draft not found",A.value=!1;else x.value="An error occurred while syncing preview",A.value=!1}}),j.on("draft:unauthorized",()=>{i(),x.value="Unauthorized preview",A.value=!1}),j.on("disconnect",()=>{i()}),document.body.classList.add(...w)}),i(()=>{document.body.classList.remove(...w)}),(t,e)=>(h(),s("div",null,[E.value?(h(),s("div",{key:0,id:"__nuxt_preview",class:o({__preview_ready:A.value,__preview_refreshing:_.value})},[A.value?(h(),s(a,{key:0},[e[0]||(e[0]=p("svg",{viewBox:"0 0 90 90",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[p("path",{d:"M50.0016 71.0999h29.2561c.9293.0001 1.8422-.241 2.6469-.6992.8047-.4582 1.4729-1.1173 1.9373-1.9109.4645-.7936.7088-1.6939.7083-2.6102-.0004-.9162-.2455-1.8163-.7106-2.6095L64.192 29.713c-.4644-.7934-1.1325-1.4523-1.937-1.9105-.8046-.4581-1.7173-.6993-2.6463-.6993-.9291 0-1.8418.2412-2.6463.6993-.8046.4582-1.4726 1.1171-1.937 1.9105l-5.0238 8.5861-9.8224-16.7898c-.4648-.7934-1.1332-1.4522-1.938-1.9102-.8047-.4581-1.7176-.6992-2.6468-.6992-.9292 0-1.842.2411-2.6468.6992-.8048.458-1.4731 1.1168-1.9379 1.9102L6.56062 63.2701c-.46512.7932-.71021 1.6933-.71061 2.6095-.00041.9163.24389 1.8166.70831 2.6102.46443.7936 1.1326 1.4527 1.93732 1.9109.80473.4582 1.71766.6993 2.64686.6992h18.3646c7.2763 0 12.6422-3.1516 16.3345-9.3002l8.9642-15.3081 4.8015-8.1925 14.4099 24.6083H54.8058l-4.8042 8.1925ZM29.2077 62.899l-12.8161-.0028L35.603 30.0869l9.5857 16.4047-6.418 10.9645c-2.4521 3.9894-5.2377 5.4429-9.563 5.4429Z",fill:"currentColor"})],-1)),e[1]||(e[1]=p("span",null,"Preview enabled",-1)),p("button",{onClick:R}," Close ")],64)):n("",!0)],2)):n("",!0),r(c,{name:"preview-loading"},{default:l(()=>[!E.value||A.value||x.value?n("",!0):(h(),s("div",L,[e[4]||(e[4]=p("div",{id:"__preview_background"},null,-1)),p("div",{id:"__preview_loader"},[e[2]||(e[2]=p("svg",{id:"__preview_loading_icon",width:"32",height:"32",viewBox:"0 0 24 24"},[p("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 0 0 4.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 0 1-15.357-2m15.357 2H15"})],-1)),e[3]||(e[3]=p("p",null,"Initializing the preview...",-1)),p("button",{onClick:R}," Cancel ")])]))]),_:1}),r(c,{name:"preview-loading"},{default:l(()=>[x.value?(h(),s("div",I,[e[5]||(e[5]=p("div",{id:"__preview_background"},null,-1)),p("div",X,[p("p",null,d(x.value),1),p("button",{onClick:R}," Exit preview ")])])):n("",!0)]),_:1})]))}},[["__scopeId","data-v-47d4e0f6"]]),H=/^[A-Za-z]:\//;function B(t=""){return t?t.replace(/\\/g,"/").replace(H,t=>t.toUpperCase()):t}const V=/^[/\\]{2}/,U=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/,W=/^[A-Za-z]:$/,z=/.(\.[^./]+|\.)$/,D=/^[/\\]|^[a-zA-Z]:[/\\]/,F=function(...t){let e="";for(const i of t)if(i)if(e.length>0){const t="/"===e[e.length-1],s="/"===i[0];e+=t&&s?i.slice(1):t||s?i:`/${i}`}else e+=i;return function(t){if(0===t.length)return".";const e=(t=B(t)).match(V),i=K(t),s="/"===t[t.length-1];return 0===(t=function(t,e){let i="",s=0,n=-1,r=0,o=null;for(let a=0;a<=t.length;++a){if(a<t.length)o=t[a];else{if("/"===o)break;o="/"}if("/"===o){if(n===a-1||1===r);else if(2===r){if(i.length<2||2!==s||"."!==i[i.length-1]||"."!==i[i.length-2]){if(i.length>2){const t=i.lastIndexOf("/");-1===t?(i="",s=0):(i=i.slice(0,t),s=i.length-1-i.lastIndexOf("/")),n=a,r=0;continue}if(i.length>0){i="",s=0,n=a,r=0;continue}}e&&(i+=i.length>0?"/..":"..",s=2)}else i.length>0?i+=`/${t.slice(n+1,a)}`:i=t.slice(n+1,a),s=a-n-1;n=a,r=0}else"."===o&&-1!==r?++r:r=-1}return i}(t,!i)).length?i?"/":s?"./":".":(s&&(t+="/"),W.test(t)&&(t+="/"),e?i?`//${t}`:`//./${t}`:i&&!K(t)?`/${t}`:t)}(e)};const K=function(t){return U.test(t)},Y=function(t){const e=B(t).replace(/\/$/,"").split("/").slice(0,-1);return 1===e.length&&W.test(e[0])&&(e[0]+="/"),e.join("/")||(K(t)?"/":".")},G=function(t){const e=D.exec(t)?.[0]?.replace(/\\/g,"/")||"",i=function(t,e){const i=B(t).split("/");let s="";for(let n=i.length-1;n>=0;n--){const t=i[n];if(t){s=t;break}}return e&&s.endsWith(e)?s.slice(0,-e.length):s}(t),s=function(t){if(".."===t)return"";const e=z.exec(B(t));return e&&e[1]||""}(i);return{root:e,dir:Y(t),base:i,ext:s,name:i.slice(0,i.length-s.length)}},Z={appConfig:"app.config.ts",appConfigV4:"app/app.config.ts",nuxtConfig:"nuxt.config.ts"};function J(t){return t?.startsWith("content/")?t.split("/").slice(1).join("/"):w(t)}function Q(t,e=!1){return t?e?v(t.replace(/\/\d+\./,"/")):w(t.replace(/^\d+\./,"")):t}function tt(t){const e=J(t);return F(Y(e),G(e).name)}const et=T((t,e,i)=>{if(Array.isArray(t[e])&&Array.isArray(i))return t[e]=i,!0});function it(t,e){for(const i in t){const s=e[i];i in e||delete t[i],null!==s&&"object"==typeof s&&it(t[i],e[i])}}function st(t,e){for(const i in e){const s=e[i];"_DELETED_"!==s?null!==s&&"object"==typeof s?Array.isArray(s)&&Array.isArray(t[i])?t[i]=s:(t[i]=t[i]||{},st(t[i],s)):t[i]=s:delete t[i]}}function nt(t){const[e,...i]=t.include.includes("*")?t.include.split("*"):["",t.include];return{fixed:e||"",dynamic:"*"+i.join("*")}}const rt=(t,e,i)=>{const{fixed:s}=nt(i);if(!t.parsed)return;const n=Q(s||""),r=Q(i?.prefix||"",!0),o=t.parsed._path.substring(n.length),a=F(r,o),p={id:t.parsed._id,stem:t.parsed._stem,meta:{},extension:t.parsed._extension,path:a},l=e.schema.definitions[e.name].properties;return Object.keys(t.parsed).forEach(e=>{e in l?p[e]=t.parsed[e]:p.meta[e]=t.parsed[e]}),p},ot=(t,e,i)=>{const s=t instanceof RegExp?at(t,i):t,n=e instanceof RegExp?at(e,i):e,r=null!==s&&null!=n&&pt(s,n,i);return r&&{start:r[0],end:r[1],pre:i.slice(0,r[0]),body:i.slice(r[0]+s.length,r[1]),post:i.slice(r[1]+n.length)}},at=(t,e)=>{const i=e.match(t);return i?i[0]:null},pt=(t,e,i)=>{let s,n,r,o,a,p=i.indexOf(t),l=i.indexOf(e,p+1),c=p;if(p>=0&&l>0){if(t===e)return[p,l];for(s=[],r=i.length;c>=0&&!a;){if(c===p)s.push(c),p=i.indexOf(t,c+1);else if(1===s.length){const t=s.pop();void 0!==t&&(a=[t,l])}else n=s.pop(),void 0!==n&&n<r&&(r=n,o=l),l=i.indexOf(e,c+1);c=p<l&&p>=0?p:l}s.length&&void 0!==o&&(a=[r,o])}return a},lt="\0SLASH"+Math.random()+"\0",ct="\0OPEN"+Math.random()+"\0",dt="\0CLOSE"+Math.random()+"\0",ht="\0COMMA"+Math.random()+"\0",gt="\0PERIOD"+Math.random()+"\0",ut=new RegExp(lt,"g"),ft=new RegExp(ct,"g"),yt=new RegExp(dt,"g"),mt=new RegExp(ht,"g"),bt=new RegExp(gt,"g"),wt=/\\\\/g,vt=/\\{/g,Tt=/\\}/g,Et=/\\,/g,_t=/\\./g;function At(t){return isNaN(t)?t.charCodeAt(0):parseInt(t,10)}function xt(t){return t.replace(ut,"\\").replace(ft,"{").replace(yt,"}").replace(mt,",").replace(bt,".")}function jt(t){if(!t)return[""];const e=[],i=ot("{","}",t);if(!i)return t.split(",");const{pre:s,body:n,post:r}=i,o=s.split(",");o[o.length-1]+="{"+n+"}";const a=jt(r);return r.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function Rt(t){return t?("{}"===t.slice(0,2)&&(t="\\{\\}"+t.slice(2)),$t(function(t){return t.replace(wt,lt).replace(vt,ct).replace(Tt,dt).replace(Et,ht).replace(_t,gt)}(t),!0).map(xt)):[]}function Pt(t){return"{"+t+"}"}function St(t){return/^-?0\d/.test(t)}function Ct(t,e){return t<=e}function kt(t,e){return t>=e}function $t(t,e){const i=[],s=ot("{","}",t);if(!s)return[t];const n=s.pre,r=s.post.length?$t(s.post,!1):[""];if(/\$$/.test(s.pre))for(let o=0;o<r.length;o++){const t=n+"{"+s.body+"}"+r[o];i.push(t)}else{const o=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body),a=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body),p=o||a,l=s.body.indexOf(",")>=0;if(!p&&!l)return s.post.match(/,(?!,).*\}/)?$t(t=s.pre+"{"+s.body+dt+s.post):[t];let c,d;if(p)c=s.body.split(/\.\./);else if(c=jt(s.body),1===c.length&&void 0!==c[0]&&(c=$t(c[0],!1).map(Pt),1===c.length))return r.map(t=>s.pre+c[0]+t);if(p&&void 0!==c[0]&&void 0!==c[1]){const t=At(c[0]),e=At(c[1]),i=Math.max(c[0].length,c[1].length);let s=3===c.length&&void 0!==c[2]?Math.abs(At(c[2])):1,n=Ct;e<t&&(s*=-1,n=kt);const r=c.some(St);d=[];for(let o=t;n(o,e);o+=s){let t;if(a)t=String.fromCharCode(o),"\\"===t&&(t="");else if(t=String(o),r){const e=i-t.length;if(e>0){const i=new Array(e+1).join("0");t=o<0?"-"+i+t.slice(1):i+t}}d.push(t)}}else{d=[];for(let t=0;t<c.length;t++)d.push.apply(d,$t(c[t],!1))}for(let t=0;t<d.length;t++)for(let s=0;s<r.length;s++){const o=n+d[t]+r[s];(!e||p||o)&&i.push(o)}}return i}const Mt=t=>{if("string"!=typeof t)throw new TypeError("invalid pattern");if(t.length>65536)throw new TypeError("pattern is too long")},Nt={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},Ot=t=>t.replace(/[[\]\\-]/g,"\\$&"),Lt=t=>t.join(""),It=(t,e)=>{const i=e;if("["!==t.charAt(i))throw new Error("not in a brace expression");const s=[],n=[];let r=i+1,o=!1,a=!1,p=!1,l=!1,c=i,d="";t:for(;r<t.length;){const e=t.charAt(r);if("!"!==e&&"^"!==e||r!==i+1){if("]"===e&&o&&!p){c=r+1;break}if(o=!0,"\\"!==e||p){if("["===e&&!p)for(const[e,[o,p,l]]of Object.entries(Nt))if(t.startsWith(e,r)){if(d)return["$.",!1,t.length-i,!0];r+=e.length,l?n.push(o):s.push(o),a=a||p;continue t}p=!1,d?(e>d?s.push(Ot(d)+"-"+Ot(e)):e===d&&s.push(Ot(e)),d="",r++):t.startsWith("-]",r+1)?(s.push(Ot(e+"-")),r+=2):t.startsWith("-",r+1)?(d=e,r+=2):(s.push(Ot(e)),r++)}else p=!0,r++}else l=!0,r++}if(c<r)return["",!1,0,!1];if(!s.length&&!n.length)return["$.",!1,t.length-i,!0];if(0===n.length&&1===s.length&&/^\\?.$/.test(s[0])&&!l){const t=2===s[0].length?s[0].slice(-1):s[0];return[(h=t,h.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),!1,c-i,!1]}var h;const g="["+(l?"^":"")+Lt(s)+"]",u="["+(l?"":"^")+Lt(n)+"]";return[s.length&&n.length?"("+g+"|"+u+")":s.length?g:u,a,c-i,!0]},Xt=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/\[([^\/\\])\]/g,"$1"):t.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),qt=new Set(["!","?","+","*","@"]),Ht=t=>qt.has(t),Bt="(?!\\.)",Vt=new Set(["[","."]),Ut=new Set(["..","."]),Wt=new Set("().*{}+?[]^$\\!"),zt=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Dt="[^/]",Ft=Dt+"*?",Kt=Dt+"+?";class Yt{type;#t;#e;#i=!1;#s=[];#n;#r;#o;#a=!1;#p;#l;#c=!1;constructor(t,e,i={}){this.type=t,t&&(this.#e=!0),this.#n=e,this.#t=this.#n?this.#n.#t:this,this.#p=this.#t===this?i:this.#t.#p,this.#o=this.#t===this?[]:this.#t.#o,"!"!==t||this.#t.#a||this.#o.push(this),this.#r=this.#n?this.#n.#s.length:0}get hasMagic(){if(void 0!==this.#e)return this.#e;for(const t of this.#s)if("string"!=typeof t&&(t.type||t.hasMagic))return this.#e=!0;return this.#e}toString(){return void 0!==this.#l?this.#l:this.type?this.#l=this.type+"("+this.#s.map(t=>String(t)).join("|")+")":this.#l=this.#s.map(t=>String(t)).join("")}#d(){if(this!==this.#t)throw new Error("should only call on root");if(this.#a)return this;let t;for(this.toString(),this.#a=!0;t=this.#o.pop();){if("!"!==t.type)continue;let e=t,i=e.#n;for(;i;){for(let s=e.#r+1;!i.type&&s<i.#s.length;s++)for(const e of t.#s){if("string"==typeof e)throw new Error("string part in extglob AST??");e.copyIn(i.#s[s])}e=i,i=e.#n}}return this}push(...t){for(const e of t)if(""!==e){if("string"!=typeof e&&!(e instanceof Yt&&e.#n===this))throw new Error("invalid part: "+e);this.#s.push(e)}}toJSON(){const t=null===this.type?this.#s.slice().map(t=>"string"==typeof t?t:t.toJSON()):[this.type,...this.#s.map(t=>t.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#t||this.#t.#a&&"!"===this.#n?.type)&&t.push({}),t}isStart(){if(this.#t===this)return!0;if(!this.#n?.isStart())return!1;if(0===this.#r)return!0;const t=this.#n;for(let e=0;e<this.#r;e++){const i=t.#s[e];if(!(i instanceof Yt&&"!"===i.type))return!1}return!0}isEnd(){if(this.#t===this)return!0;if("!"===this.#n?.type)return!0;if(!this.#n?.isEnd())return!1;if(!this.type)return this.#n?.isEnd();const t=this.#n?this.#n.#s.length:0;return this.#r===t-1}copyIn(t){"string"==typeof t?this.push(t):this.push(t.clone(this))}clone(t){const e=new Yt(this.type,t);for(const i of this.#s)e.copyIn(i);return e}static#h(t,e,i,s){let n=!1,r=!1,o=-1,a=!1;if(null===e.type){let p=i,l="";for(;p<t.length;){const i=t.charAt(p++);if(n||"\\"===i)n=!n,l+=i;else if(r)p===o+1?"^"!==i&&"!"!==i||(a=!0):"]"!==i||p===o+2&&a||(r=!1),l+=i;else if("["!==i){if(!s.noext&&Ht(i)&&"("===t.charAt(p)){e.push(l),l="";const n=new Yt(i,e);p=Yt.#h(t,n,p,s),e.push(n);continue}l+=i}else r=!0,o=p,a=!1,l+=i}return e.push(l),p}let p=i+1,l=new Yt(null,e);const c=[];let d="";for(;p<t.length;){const i=t.charAt(p++);if(n||"\\"===i)n=!n,d+=i;else if(r)p===o+1?"^"!==i&&"!"!==i||(a=!0):"]"!==i||p===o+2&&a||(r=!1),d+=i;else if("["!==i){if(Ht(i)&&"("===t.charAt(p)){l.push(d),d="";const e=new Yt(i,l);l.push(e),p=Yt.#h(t,e,p,s);continue}if("|"!==i){if(")"===i)return""===d&&0===e.#s.length&&(e.#c=!0),l.push(d),d="",e.push(...c,l),p;d+=i}else l.push(d),d="",c.push(l),l=new Yt(null,e)}else r=!0,o=p,a=!1,d+=i}return e.type=null,e.#e=void 0,e.#s=[t.substring(i-1)],p}static fromGlob(t,e={}){const i=new Yt(null,void 0,e);return Yt.#h(t,i,0,e),i}toMMPattern(){if(this!==this.#t)return this.#t.toMMPattern();const t=this.toString(),[e,i,s,n]=this.toRegExpSource();if(!(s||this.#e||this.#p.nocase&&!this.#p.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return i;const r=(this.#p.nocase?"i":"")+(n?"u":"");return Object.assign(new RegExp(`^${e}$`,r),{_src:e,_glob:t})}get options(){return this.#p}toRegExpSource(t){const e=t??!!this.#p.dot;if(this.#t===this&&this.#d(),!this.type){const i=this.isStart()&&this.isEnd(),s=this.#s.map(e=>{const[s,n,r,o]="string"==typeof e?Yt.#g(e,this.#e,i):e.toRegExpSource(t);return this.#e=this.#e||r,this.#i=this.#i||o,s}).join("");let n="";if(this.isStart()&&"string"==typeof this.#s[0]){if(!(1===this.#s.length&&Ut.has(this.#s[0]))){const i=Vt,r=e&&i.has(s.charAt(0))||s.startsWith("\\.")&&i.has(s.charAt(2))||s.startsWith("\\.\\.")&&i.has(s.charAt(4)),o=!e&&!t&&i.has(s.charAt(0));n=r?"(?!(?:^|/)\\.\\.?(?:$|/))":o?Bt:""}}let r="";this.isEnd()&&this.#t.#a&&"!"===this.#n?.type&&(r="(?:$|\\/)");return[n+s+r,Xt(s),this.#e=!!this.#e,this.#i]}const i="*"===this.type||"+"===this.type,s="!"===this.type?"(?:(?!(?:":"(?:";let n=this.#u(e);if(this.isStart()&&this.isEnd()&&!n&&"!"!==this.type){const t=this.toString();return this.#s=[t],this.type=null,this.#e=void 0,[t,Xt(this.toString()),!1,!1]}let r=!i||t||e?"":this.#u(!0);r===n&&(r=""),r&&(n=`(?:${n})(?:${r})*?`);let o="";if("!"===this.type&&this.#c)o=(this.isStart()&&!e?Bt:"")+Kt;else{o=s+n+("!"===this.type?"))"+(!this.isStart()||e||t?"":Bt)+Ft+")":"@"===this.type?")":"?"===this.type?")?":"+"===this.type&&r?")":"*"===this.type&&r?")?":`)${this.type}`)}return[o,Xt(n),this.#e=!!this.#e,this.#i]}#u(t){return this.#s.map(e=>{if("string"==typeof e)throw new Error("string type in extglob ast??");const[i,s,n,r]=e.toRegExpSource(t);return this.#i=this.#i||r,i}).filter(t=>!(this.isStart()&&this.isEnd()&&!t)).join("|")}static#g(t,e,i=!1){let s=!1,n="",r=!1;for(let o=0;o<t.length;o++){const a=t.charAt(o);if(s)s=!1,n+=(Wt.has(a)?"\\":"")+a;else if("\\"!==a){if("["===a){const[i,s,a,p]=It(t,o);if(a){n+=i,r=r||s,o+=a-1,e=e||p;continue}}"*"!==a?"?"!==a?n+=zt(a):(n+=Dt,e=!0):(n+=i&&"*"===t?Kt:Ft,e=!0)}else o===t.length-1?n+="\\\\":s=!0}return[n,Xt(t),!!e,r]}}var Gt={};const Zt=(t,e,i={})=>(Mt(e),!(!i.nocomment&&"#"===e.charAt(0))&&new _e(e,i).match(t)),Jt=/^\*+([^+@!?\*\[\(]*)$/,Qt=t=>e=>!e.startsWith(".")&&e.endsWith(t),te=t=>e=>e.endsWith(t),ee=t=>(t=t.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(t)),ie=t=>(t=t.toLowerCase(),e=>e.toLowerCase().endsWith(t)),se=/^\*+\.\*+$/,ne=t=>!t.startsWith(".")&&t.includes("."),re=t=>"."!==t&&".."!==t&&t.includes("."),oe=/^\.\*+$/,ae=t=>"."!==t&&".."!==t&&t.startsWith("."),pe=/^\*+$/,le=t=>0!==t.length&&!t.startsWith("."),ce=t=>0!==t.length&&"."!==t&&".."!==t,de=/^\?+([^+@!?\*\[\(]*)?$/,he=([t,e=""])=>{const i=ye([t]);return e?(e=e.toLowerCase(),t=>i(t)&&t.toLowerCase().endsWith(e)):i},ge=([t,e=""])=>{const i=me([t]);return e?(e=e.toLowerCase(),t=>i(t)&&t.toLowerCase().endsWith(e)):i},ue=([t,e=""])=>{const i=me([t]);return e?t=>i(t)&&t.endsWith(e):i},fe=([t,e=""])=>{const i=ye([t]);return e?t=>i(t)&&t.endsWith(e):i},ye=([t])=>{const e=t.length;return t=>t.length===e&&!t.startsWith(".")},me=([t])=>{const e=t.length;return t=>t.length===e&&"."!==t&&".."!==t},be="object"==typeof process&&process?Gt&&Gt.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix";Zt.sep="win32"===be?{sep:"\\"}.sep:{sep:"/"}.sep;const we=Symbol("globstar **");Zt.GLOBSTAR=we;Zt.filter=(t,e={})=>i=>Zt(i,t,e);const ve=(t,e={})=>Object.assign({},t,e);Zt.defaults=t=>{if(!t||"object"!=typeof t||!Object.keys(t).length)return Zt;const e=Zt;return Object.assign((i,s,n={})=>e(i,s,ve(t,n)),{Minimatch:class extends e.Minimatch{constructor(e,i={}){super(e,ve(t,i))}static defaults(i){return e.defaults(ve(t,i)).Minimatch}},AST:class extends e.AST{constructor(e,i,s={}){super(e,i,ve(t,s))}static fromGlob(i,s={}){return e.AST.fromGlob(i,ve(t,s))}},unescape:(i,s={})=>e.unescape(i,ve(t,s)),escape:(i,s={})=>e.escape(i,ve(t,s)),filter:(i,s={})=>e.filter(i,ve(t,s)),defaults:i=>e.defaults(ve(t,i)),makeRe:(i,s={})=>e.makeRe(i,ve(t,s)),braceExpand:(i,s={})=>e.braceExpand(i,ve(t,s)),match:(i,s,n={})=>e.match(i,s,ve(t,n)),sep:e.sep,GLOBSTAR:we})};const Te=(t,e={})=>(Mt(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:Rt(t));Zt.braceExpand=Te;Zt.makeRe=(t,e={})=>new _e(t,e).makeRe();Zt.match=(t,e,i={})=>{const s=new _e(e,i);return t=t.filter(t=>s.match(t)),s.options.nonull&&!t.length&&t.push(e),t};const Ee=/[?*]|[+@!]\(.*?\)|\[|\]/;class _e{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(t,e={}){Mt(t),e=e||{},this.options=e,this.pattern=t,this.platform=e.platform||be,this.isWindows="win32"===this.platform,this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||!1===e.allowWindowsEscape,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!e.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!e.nonegate,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=void 0!==e.windowsNoMagicRoot?e.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const t of this.set)for(const e of t)if("string"!=typeof e)return!0;return!1}debug(...t){}make(){const t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],e.debug&&(this.debug=(...t)=>console.error(...t)),this.debug(this.pattern,this.globSet);const i=this.globSet.map(t=>this.slashSplit(t));this.globParts=this.preprocess(i),this.debug(this.pattern,this.globParts);let s=this.globParts.map((t,e,i)=>{if(this.isWindows&&this.windowsNoMagicRoot){const e=!(""!==t[0]||""!==t[1]||"?"!==t[2]&&Ee.test(t[2])||Ee.test(t[3])),i=/^[a-z]:/i.test(t[0]);if(e)return[...t.slice(0,4),...t.slice(4).map(t=>this.parse(t))];if(i)return[t[0],...t.slice(1).map(t=>this.parse(t))]}return t.map(t=>this.parse(t))});if(this.debug(this.pattern,s),this.set=s.filter(t=>-1===t.indexOf(!1)),this.isWindows)for(let n=0;n<this.set.length;n++){const t=this.set[n];""===t[0]&&""===t[1]&&"?"===this.globParts[n][2]&&"string"==typeof t[3]&&/^[a-z]:$/i.test(t[3])&&(t[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let i=0;i<t.length;i++)for(let e=0;e<t[i].length;e++)"**"===t[i][e]&&(t[i][e]="*");const{optimizationLevel:e=1}=this.options;return e>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):t=e>=1?this.levelOneOptimize(t):this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(t=>{let e=-1;for(;-1!==(e=t.indexOf("**",e+1));){let i=e;for(;"**"===t[i+1];)i++;i!==e&&t.splice(e,i-e)}return t})}levelOneOptimize(t){return t.map(t=>0===(t=t.reduce((t,e)=>{const i=t[t.length-1];return"**"===e&&"**"===i?t:".."===e&&i&&".."!==i&&"."!==i&&"**"!==i?(t.pop(),t):(t.push(e),t)},[])).length?[""]:t)}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let e=!1;do{if(e=!1,!this.preserveMultipleSlashes){for(let i=1;i<t.length-1;i++){const s=t[i];1===i&&""===s&&""===t[0]||("."!==s&&""!==s||(e=!0,t.splice(i,1),i--))}"."!==t[0]||2!==t.length||"."!==t[1]&&""!==t[1]||(e=!0,t.pop())}let i=0;for(;-1!==(i=t.indexOf("..",i+1));){const s=t[i-1];s&&"."!==s&&".."!==s&&"**"!==s&&(e=!0,t.splice(i-1,2),i-=2)}}while(e);return 0===t.length?[""]:t}firstPhasePreProcess(t){let e=!1;do{e=!1;for(let i of t){let s=-1;for(;-1!==(s=i.indexOf("**",s+1));){let n=s;for(;"**"===i[n+1];)n++;n>s&&i.splice(s+1,n-s);let r=i[s+1];const o=i[s+2],a=i[s+3];if(".."!==r)continue;if(!o||"."===o||".."===o||!a||"."===a||".."===a)continue;e=!0,i.splice(s,1);const p=i.slice(0);p[s]="**",t.push(p),s--}if(!this.preserveMultipleSlashes){for(let t=1;t<i.length-1;t++){const s=i[t];1===t&&""===s&&""===i[0]||("."!==s&&""!==s||(e=!0,i.splice(t,1),t--))}"."!==i[0]||2!==i.length||"."!==i[1]&&""!==i[1]||(e=!0,i.pop())}let n=0;for(;-1!==(n=i.indexOf("..",n+1));){const t=i[n-1];if(t&&"."!==t&&".."!==t&&"**"!==t){e=!0;const t=1===n&&"**"===i[n+1]?["."]:[];i.splice(n-1,2,...t),0===i.length&&i.push(""),n-=2}}}}while(e);return t}secondPhasePreProcess(t){for(let e=0;e<t.length-1;e++)for(let i=e+1;i<t.length;i++){const s=this.partsMatch(t[e],t[i],!this.preserveMultipleSlashes);if(s){t[e]=[],t[i]=s;break}}return t.filter(t=>t.length)}partsMatch(t,e,i=!1){let s=0,n=0,r=[],o="";for(;s<t.length&&n<e.length;)if(t[s]===e[n])r.push("b"===o?e[n]:t[s]),s++,n++;else if(i&&"**"===t[s]&&e[n]===t[s+1])r.push(t[s]),s++;else if(i&&"**"===e[n]&&t[s]===e[n+1])r.push(e[n]),n++;else if("*"!==t[s]||!e[n]||!this.options.dot&&e[n].startsWith(".")||"**"===e[n]){if("*"!==e[n]||!t[s]||!this.options.dot&&t[s].startsWith(".")||"**"===t[s])return!1;if("a"===o)return!1;o="b",r.push(e[n]),s++,n++}else{if("b"===o)return!1;o="a",r.push(t[s]),s++,n++}return t.length===e.length&&r}parseNegate(){if(this.nonegate)return;const t=this.pattern;let e=!1,i=0;for(let s=0;s<t.length&&"!"===t.charAt(s);s++)e=!e,i++;i&&(this.pattern=t.slice(i)),this.negate=e}matchOne(t,e,i=!1){const s=this.options;if(this.isWindows){const i="string"==typeof t[0]&&/^[a-z]:$/i.test(t[0]),s=!i&&""===t[0]&&""===t[1]&&"?"===t[2]&&/^[a-z]:$/i.test(t[3]),n="string"==typeof e[0]&&/^[a-z]:$/i.test(e[0]),r=s?3:i?0:void 0,o=!n&&""===e[0]&&""===e[1]&&"?"===e[2]&&"string"==typeof e[3]&&/^[a-z]:$/i.test(e[3])?3:n?0:void 0;if("number"==typeof r&&"number"==typeof o){const[i,s]=[t[r],e[o]];i.toLowerCase()===s.toLowerCase()&&(e[o]=i,o>r?e=e.slice(o):r>o&&(t=t.slice(r)))}}const{optimizationLevel:n=1}=this.options;n>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var r=0,o=0,a=t.length,p=e.length;r<a&&o<p;r++,o++){this.debug("matchOne loop");var l=e[o],c=t[r];if(this.debug(e,l,c),!1===l)return!1;if(l===we){this.debug("GLOBSTAR",[e,l,c]);var d=r,h=o+1;if(h===p){for(this.debug("** at the end");r<a;r++)if("."===t[r]||".."===t[r]||!s.dot&&"."===t[r].charAt(0))return!1;return!0}for(;d<a;){var g=t[d];if(this.debug("\nglobstar while",t,d,e,h,g),this.matchOne(t.slice(d),e.slice(h),i))return this.debug("globstar found match!",d,a,g),!0;if("."===g||".."===g||!s.dot&&"."===g.charAt(0)){this.debug("dot detected!",t,d,e,h);break}this.debug("globstar swallow a segment, and continue"),d++}return!(!i||(this.debug("\n>>> no match, partial?",t,d,e,h),d!==a))}let n;if("string"==typeof l?(n=c===l,this.debug("string match",l,c,n)):(n=l.test(c),this.debug("pattern match",l,c,n)),!n)return!1}if(r===a&&o===p)return!0;if(r===a)return i;if(o===p)return r===a-1&&""===t[r];throw new Error("wtf?")}braceExpand(){return Te(this.pattern,this.options)}parse(t){Mt(t);const e=this.options;if("**"===t)return we;if(""===t)return"";let i,s=null;(i=t.match(pe))?s=e.dot?ce:le:(i=t.match(Jt))?s=(e.nocase?e.dot?ie:ee:e.dot?te:Qt)(i[1]):(i=t.match(de))?s=(e.nocase?e.dot?ge:he:e.dot?ue:fe)(i):(i=t.match(se))?s=e.dot?re:ne:(i=t.match(oe))&&(s=ae);const n=Yt.fromGlob(t,this.options).toMMPattern();return s&&"object"==typeof n&&Reflect.defineProperty(n,"test",{value:s}),n}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;const t=this.set;if(!t.length)return this.regexp=!1,this.regexp;const e=this.options,i=e.noglobstar?"[^/]*?":e.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",s=new Set(e.nocase?["i"]:[]);let n=t.map(t=>{const e=t.map(t=>{if(t instanceof RegExp)for(const e of t.flags.split(""))s.add(e);return"string"==typeof t?t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):t===we?we:t._src});return e.forEach((t,s)=>{const n=e[s+1],r=e[s-1];t===we&&r!==we&&(void 0===r?void 0!==n&&n!==we?e[s+1]="(?:\\/|"+i+"\\/)?"+n:e[s]=i:void 0===n?e[s-1]=r+"(?:\\/|"+i+")?":n!==we&&(e[s-1]=r+"(?:\\/|\\/"+i+"\\/)"+n,e[s+1]=we))}),e.filter(t=>t!==we).join("/")}).join("|");const[r,o]=t.length>1?["(?:",")"]:["",""];n="^"+r+n+o+"$",this.negate&&(n="^(?!"+n+").+$");try{this.regexp=new RegExp(n,[...s].join(""))}catch(a){this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,e=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;const i=this.options;this.isWindows&&(t=t.split("\\").join("/"));const s=this.slashSplit(t);this.debug(this.pattern,"split",s);const n=this.set;this.debug(this.pattern,"set",n);let r=s[s.length-1];if(!r)for(let o=s.length-2;!r&&o>=0;o--)r=s[o];for(let o=0;o<n.length;o++){const t=n[o];let a=s;i.matchBase&&1===t.length&&(a=[r]);if(this.matchOne(a,t,e))return!!i.flipNegate||!this.negate}return!i.flipNegate&&this.negate}static defaults(t){return Zt.defaults(t).Minimatch}}Zt.AST=Yt,Zt.Minimatch=_e,Zt.escape=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/[?*()[\]]/g,"[$&]"):t.replace(/[?*()[\]\\]/g,"\\$&"),Zt.unescape=Xt;const Ae=(t,e)=>{let i;return{collection:Object.values(e).find(e=>{if(!e.source||0===e.source.length)return;const s=J(t);return("/"===s?["index.yml","index.yaml","index.md","index.json"]:[s]).some(t=>(i=e.source.find(e=>{const i=Zt(t,e.include),s=e.exclude?.some(e=>Zt(t,e));return i&&!s}),i))}),matchedSource:i}};function xe(t,e){const i=function(t,e){const i=[],s=t.schema.definitions[t.name].properties,n=function(t){const e=Object.values(t.definitions)[0].properties,i=new Set([e.id?"id":void 0,e.title?"title":void 0,...Object.keys(e).sort()].filter(Boolean));return Array.from(i)}(t.schema);return n.forEach(n=>{const r=s[n],o=t.fields[n],a=void 0!==r.default?r.default:"NULL",p=void 0!==e[n]?e[n]:a;"json"===o?i.push(`'${JSON.stringify(p).replace(/'/g,"''")}'`):"string"===o||["string","enum"].includes(r.type)?["data","datetime"].includes(r.format)?i.push("NULL"!==p?`'${new Date(p).toISOString()}'`:a):i.push(`'${String(p).replace(/\n/g,"\\n").replace(/'/g,"''")}'`):"boolean"===o?i.push("NULL"!==p?!!p:p):i.push(p)}),i.push(`'${O(i)}'`),i}(t,e);let s=0;return`INSERT INTO ${t.tableName} VALUES (${"?, ".repeat(i.length).slice(0,-2)})`.replace(/\?/g,()=>i[s++])}function je(t,e){return`DELETE FROM ${t.tableName} WHERE stem = '${e}';`}function Re(t,e,i){return`SELECT * FROM ${t.tableName} WHERE ${e} = '${i}';`}const Pe=["https://nuxt.studio","https://dev.nuxt.studio"],Se={index:{name:"index",pascalName:"Index",tableName:"_content_index",source:[{_resolved:!0,prefix:"/",include:"index.yml",cwd:"/home/runner/work/bo-cooper/bo-cooper/content"}],type:"page",fields:{id:"string",title:"string",about:"json",blog:"json",body:"json",description:"string",experience:"json",extension:"string",faq:"json",hero:"json",meta:"json",navigation:"json",path:"string",seo:"json",stem:"string",testimonials:"json"},schema:{$schema:"http://json-schema.org/draft-07/schema#",$ref:"#/definitions/__SCHEMA__",definitions:{index:{type:"object",properties:{id:{type:"string"},stem:{type:"string"},extension:{type:"string",enum:["md","yaml","yml","json","csv","xml"]},meta:{type:"object",additionalProperties:{}},path:{type:"string"},title:{type:"string"},description:{type:"string"},seo:{allOf:[{type:"object",properties:{title:{type:"string"},description:{type:"string"}}},{type:"object",additionalProperties:{}}],default:{}},body:{type:"object",properties:{type:{type:"string"},children:{},toc:{}},required:["type"],additionalProperties:!1},navigation:{anyOf:[{type:"boolean"},{type:"object",properties:{title:{type:"string"},description:{type:"string"},icon:{type:"string",$content:{editor:{input:"icon"}}}},required:["title","description","icon"],additionalProperties:!1}],default:!0},hero:{type:"object",properties:{links:{type:"array",items:{type:"object",properties:{label:{type:"string"},icon:{type:"string"},to:{type:"string"},color:{type:"string",enum:["primary","neutral","success","warning","error","info"]},size:{type:"string",enum:["xs","sm","md","lg","xl"]},variant:{type:"string",enum:["solid","outline","subtle","soft","ghost","link"]},target:{type:"string",enum:["_blank","_self"]}},required:["label"],additionalProperties:!1}},images:{type:"array",items:{type:"object",properties:{src:{$content:{editor:{input:"media"}},type:"string"},alt:{type:"string"}},required:["src","alt"],additionalProperties:!1}}},required:["links","images"],additionalProperties:!1},about:{type:"object",properties:{title:{type:"string"},description:{type:"string"}},required:["title","description"],additionalProperties:!1},experience:{type:"object",properties:{title:{type:"string"},description:{type:"string"},items:{type:"array",items:{type:"object",properties:{date:{anyOf:[{type:"string",format:"date-time"},{type:"string"}]},position:{type:"string"},company:{type:"object",properties:{name:{type:"string"},url:{type:"string"},logo:{$content:{editor:{input:"icon"}},type:"string"},color:{type:"string"}},required:["name","url","logo","color"],additionalProperties:!1}},required:["date","position","company"],additionalProperties:!1}}},required:["title","description","items"],additionalProperties:!1},testimonials:{type:"array",items:{type:"object",properties:{quote:{type:"string"},author:{type:"object",properties:{name:{type:"string"},description:{type:"string"},username:{type:"string"},twitter:{type:"string"},to:{type:"string"},avatar:{type:"object",properties:{src:{$content:{editor:{input:"media"}},type:"string"},alt:{type:"string"}},required:["src","alt"],additionalProperties:!1}},required:["name"],additionalProperties:!1}},required:["quote","author"],additionalProperties:!1}},blog:{type:"object",properties:{title:{type:"string"},description:{type:"string"}},required:["title","description"],additionalProperties:!1},faq:{type:"object",properties:{title:{type:"string"},description:{type:"string"},categories:{type:"array",items:{type:"object",properties:{title:{type:"string",minLength:1},questions:{type:"array",items:{type:"object",properties:{label:{type:"string",minLength:1},content:{type:"string",minLength:1}},required:["label","content"],additionalProperties:!1}}},required:["title","questions"],additionalProperties:!1}}},required:["title","description","categories"],additionalProperties:!1}},required:["id","stem","extension","meta","path","title","description","body","hero","about","experience","testimonials","blog","faq"],additionalProperties:!1}}},tableDefinition:'CREATE TABLE IF NOT EXISTS _content_index (id TEXT PRIMARY KEY, "title" VARCHAR, "about" TEXT, "blog" TEXT, "body" TEXT, "description" VARCHAR, "experience" TEXT, "extension" VARCHAR, "faq" TEXT, "hero" TEXT, "meta" TEXT, "navigation" TEXT DEFAULT true, "path" VARCHAR, "seo" TEXT DEFAULT \'{}\', "stem" VARCHAR, "testimonials" TEXT, "__hash__" TEXT UNIQUE);'},projects:{name:"projects",pascalName:"Projects",tableName:"_content_projects",source:[{_resolved:!0,prefix:"/projects",include:"projects/*.yml",cwd:"/home/runner/work/bo-cooper/bo-cooper/content"}],type:"data",fields:{id:"string",title:"string",date:"json",description:"string",extension:"string",image:"string",meta:"json",stem:"string",tags:"json",url:"string"},schema:{$schema:"http://json-schema.org/draft-07/schema#",$ref:"#/definitions/__SCHEMA__",definitions:{projects:{type:"object",properties:{id:{type:"string"},stem:{type:"string"},extension:{type:"string",enum:["md","yaml","yml","json","csv","xml"]},meta:{type:"object",additionalProperties:{}},title:{type:"string",minLength:1},description:{type:"string",minLength:1},image:{$content:{editor:{input:"media"}},type:"string",minLength:1},url:{type:"string",minLength:1},tags:{type:"array",items:{type:"string"}},date:{anyOf:[{type:"string",format:"date-time"},{type:"string"}]}},required:["id","stem","extension","meta","title","description","image","url","tags","date"],additionalProperties:!1}}},tableDefinition:'CREATE TABLE IF NOT EXISTS _content_projects (id TEXT PRIMARY KEY, "title" VARCHAR, "date" TEXT, "description" VARCHAR, "extension" VARCHAR, "image" VARCHAR, "meta" TEXT, "stem" VARCHAR, "tags" TEXT, "url" VARCHAR, "__hash__" TEXT UNIQUE);'},blog:{name:"blog",pascalName:"Blog",tableName:"_content_blog",source:[{_resolved:!0,prefix:"/blog",include:"blog/*.md",cwd:"/home/runner/work/bo-cooper/bo-cooper/content"}],type:"page",fields:{id:"string",title:"string",author:"json",body:"json",date:"json",description:"string",extension:"string",image:"string",meta:"json",minRead:"number",navigation:"json",path:"string",seo:"json",stem:"string"},schema:{$schema:"http://json-schema.org/draft-07/schema#",$ref:"#/definitions/__SCHEMA__",definitions:{blog:{type:"object",properties:{id:{type:"string"},stem:{type:"string"},extension:{type:"string",enum:["md","yaml","yml","json","csv","xml"]},meta:{type:"object",additionalProperties:{}},path:{type:"string"},title:{type:"string"},description:{type:"string"},seo:{allOf:[{type:"object",properties:{title:{type:"string"},description:{type:"string"}}},{type:"object",additionalProperties:{}}],default:{}},body:{type:"object",properties:{type:{type:"string"},children:{},toc:{}},required:["type"],additionalProperties:!1},navigation:{anyOf:[{type:"boolean"},{type:"object",properties:{title:{type:"string"},description:{type:"string"},icon:{type:"string",$content:{editor:{input:"icon"}}}},required:["title","description","icon"],additionalProperties:!1}],default:!0},minRead:{type:"number"},date:{anyOf:[{type:"string",format:"date-time"},{type:"string"}]},image:{$content:{editor:{input:"media"}},type:"string",minLength:1},author:{type:"object",properties:{name:{type:"string"},description:{type:"string"},username:{type:"string"},twitter:{type:"string"},to:{type:"string"},avatar:{type:"object",properties:{src:{$content:{editor:{input:"media"}},type:"string"},alt:{type:"string"}},required:["src","alt"],additionalProperties:!1}},required:["name"],additionalProperties:!1}},required:["id","stem","extension","meta","path","title","description","body","minRead","date","image","author"],additionalProperties:!1}}},tableDefinition:'CREATE TABLE IF NOT EXISTS _content_blog (id TEXT PRIMARY KEY, "title" VARCHAR, "author" TEXT, "body" TEXT, "date" TEXT, "description" VARCHAR, "extension" VARCHAR, "image" VARCHAR, "meta" TEXT, "minRead" INT, "navigation" TEXT DEFAULT true, "path" VARCHAR, "seo" TEXT DEFAULT \'{}\', "stem" VARCHAR, "__hash__" TEXT UNIQUE);'},pages:{name:"pages",pascalName:"Pages",tableName:"_content_pages",source:[{_resolved:!0,prefix:"/",include:"projects.yml",cwd:"/home/runner/work/bo-cooper/bo-cooper/content"},{_resolved:!0,prefix:"/",include:"blog.yml",cwd:"/home/runner/work/bo-cooper/bo-cooper/content"}],type:"page",fields:{id:"string",title:"string",body:"json",description:"string",extension:"string",links:"json",meta:"json",navigation:"json",path:"string",seo:"json",stem:"string"},schema:{$schema:"http://json-schema.org/draft-07/schema#",$ref:"#/definitions/__SCHEMA__",definitions:{pages:{type:"object",properties:{id:{type:"string"},stem:{type:"string"},extension:{type:"string",enum:["md","yaml","yml","json","csv","xml"]},meta:{type:"object",additionalProperties:{}},path:{type:"string"},title:{type:"string"},description:{type:"string"},seo:{allOf:[{type:"object",properties:{title:{type:"string"},description:{type:"string"}}},{type:"object",additionalProperties:{}}],default:{}},body:{type:"object",properties:{type:{type:"string"},children:{},toc:{}},required:["type"],additionalProperties:!1},navigation:{anyOf:[{type:"boolean"},{type:"object",properties:{title:{type:"string"},description:{type:"string"},icon:{type:"string",$content:{editor:{input:"icon"}}}},required:["title","description","icon"],additionalProperties:!1}],default:!0},links:{type:"array",items:{type:"object",properties:{label:{type:"string"},icon:{type:"string"},to:{type:"string"},color:{type:"string",enum:["primary","neutral","success","warning","error","info"]},size:{type:"string",enum:["xs","sm","md","lg","xl"]},variant:{type:"string",enum:["solid","outline","subtle","soft","ghost","link"]},target:{type:"string",enum:["_blank","_self"]}},required:["label"],additionalProperties:!1}}},required:["id","stem","extension","meta","path","title","description","body","links"],additionalProperties:!1}}},tableDefinition:'CREATE TABLE IF NOT EXISTS _content_pages (id TEXT PRIMARY KEY, "title" VARCHAR, "body" TEXT, "description" VARCHAR, "extension" VARCHAR, "links" TEXT, "meta" TEXT, "navigation" TEXT DEFAULT true, "path" VARCHAR, "seo" TEXT DEFAULT \'{}\', "stem" VARCHAR, "__hash__" TEXT UNIQUE);'},speaking:{name:"speaking",pascalName:"Speaking",tableName:"_content_speaking",source:[{_resolved:!0,prefix:"/",include:"speaking.yml",cwd:"/home/runner/work/bo-cooper/bo-cooper/content"}],type:"page",fields:{id:"string",title:"string",body:"json",description:"string",events:"json",extension:"string",links:"json",meta:"json",navigation:"json",path:"string",seo:"json",stem:"string"},schema:{$schema:"http://json-schema.org/draft-07/schema#",$ref:"#/definitions/__SCHEMA__",definitions:{speaking:{type:"object",properties:{id:{type:"string"},stem:{type:"string"},extension:{type:"string",enum:["md","yaml","yml","json","csv","xml"]},meta:{type:"object",additionalProperties:{}},path:{type:"string"},title:{type:"string"},description:{type:"string"},seo:{allOf:[{type:"object",properties:{title:{type:"string"},description:{type:"string"}}},{type:"object",additionalProperties:{}}],default:{}},body:{type:"object",properties:{type:{type:"string"},children:{},toc:{}},required:["type"],additionalProperties:!1},navigation:{anyOf:[{type:"boolean"},{type:"object",properties:{title:{type:"string"},description:{type:"string"},icon:{type:"string",$content:{editor:{input:"icon"}}}},required:["title","description","icon"],additionalProperties:!1}],default:!0},links:{type:"array",items:{type:"object",properties:{label:{type:"string"},icon:{type:"string"},to:{type:"string"},color:{type:"string",enum:["primary","neutral","success","warning","error","info"]},size:{type:"string",enum:["xs","sm","md","lg","xl"]},variant:{type:"string",enum:["solid","outline","subtle","soft","ghost","link"]},target:{type:"string",enum:["_blank","_self"]}},required:["label"],additionalProperties:!1}},events:{type:"array",items:{type:"object",properties:{category:{type:"string",enum:["Live talk","Podcast","Conference"]},title:{type:"string"},date:{anyOf:[{type:"string",format:"date-time"},{type:"string"}]},location:{type:"string"},url:{type:"string"}},required:["category","title","date","location"],additionalProperties:!1}}},required:["id","stem","extension","meta","path","title","description","body","links","events"],additionalProperties:!1}}},tableDefinition:'CREATE TABLE IF NOT EXISTS _content_speaking (id TEXT PRIMARY KEY, "title" VARCHAR, "body" TEXT, "description" VARCHAR, "events" TEXT, "extension" VARCHAR, "links" TEXT, "meta" TEXT, "navigation" TEXT DEFAULT true, "path" VARCHAR, "seo" TEXT DEFAULT \'{}\', "stem" VARCHAR, "__hash__" TEXT UNIQUE);'},services:{name:"services",pascalName:"Services",tableName:"_content_services",source:[{_resolved:!0,prefix:"/",include:"services.yml",cwd:"/home/runner/work/bo-cooper/bo-cooper/content"}],type:"page",fields:{id:"string",title:"string",body:"json",cta:"json",description:"string",extension:"string",links:"json",meta:"json",navigation:"json",offerings:"json",packages:"json",path:"string",process:"json",seo:"json",stem:"string"},schema:{$schema:"http://json-schema.org/draft-07/schema#",$ref:"#/definitions/__SCHEMA__",definitions:{services:{type:"object",properties:{id:{type:"string"},stem:{type:"string"},extension:{type:"string",enum:["md","yaml","yml","json","csv","xml"]},meta:{type:"object",additionalProperties:{}},path:{type:"string"},title:{type:"string"},description:{type:"string"},seo:{allOf:[{type:"object",properties:{title:{type:"string"},description:{type:"string"}}},{type:"object",additionalProperties:{}}],default:{}},body:{type:"object",properties:{type:{type:"string"},children:{},toc:{}},required:["type"],additionalProperties:!1},navigation:{anyOf:[{type:"boolean"},{type:"object",properties:{title:{type:"string"},description:{type:"string"},icon:{type:"string",$content:{editor:{input:"icon"}}}},required:["title","description","icon"],additionalProperties:!1}],default:!0},links:{type:"array",items:{type:"object",properties:{label:{type:"string"},icon:{type:"string"},to:{type:"string"},color:{type:"string",enum:["primary","neutral","success","warning","error","info"]},size:{type:"string",enum:["xs","sm","md","lg","xl"]},variant:{type:"string",enum:["solid","outline","subtle","soft","ghost","link"]},target:{type:"string",enum:["_blank","_self"]}},required:["label"],additionalProperties:!1}},offerings:{type:"array",items:{type:"object",properties:{title:{type:"string"},description:{type:"string"},icon:{type:"string"}},required:["title","description"],additionalProperties:!1}},packages:{type:"array",items:{type:"object",properties:{name:{type:"string"},duration:{type:"string"},from:{type:"string"},includes:{type:"array",items:{type:"string"}}},required:["name","duration","from","includes"],additionalProperties:!1}},process:{type:"array",items:{type:"string"}},cta:{type:"object",properties:{label:{type:"string"},to:{type:"string"},color:{type:"string"}},required:["label","to"],additionalProperties:!1}},required:["id","stem","extension","meta","path","title","description","body","links","offerings","process"],additionalProperties:!1}}},tableDefinition:'CREATE TABLE IF NOT EXISTS _content_services (id TEXT PRIMARY KEY, "title" VARCHAR, "body" TEXT, "cta" TEXT NULL, "description" VARCHAR, "extension" VARCHAR, "links" TEXT, "meta" TEXT, "navigation" TEXT DEFAULT true, "offerings" TEXT, "packages" TEXT NULL, "path" VARCHAR, "process" TEXT, "seo" TEXT DEFAULT \'{}\', "stem" VARCHAR, "__hash__" TEXT UNIQUE);'},about:{name:"about",pascalName:"About",tableName:"_content_about",source:[{_resolved:!0,prefix:"/",include:"about.yml",cwd:"/home/runner/work/bo-cooper/bo-cooper/content"}],type:"page",fields:{id:"string",title:"string",body:"json",content:"json",description:"string",extension:"string",images:"json",meta:"json",navigation:"json",path:"string",seo:"json",stem:"string"},schema:{$schema:"http://json-schema.org/draft-07/schema#",$ref:"#/definitions/__SCHEMA__",definitions:{about:{type:"object",properties:{id:{type:"string"},stem:{type:"string"},extension:{type:"string",enum:["md","yaml","yml","json","csv","xml"]},meta:{type:"object",additionalProperties:{}},path:{type:"string"},title:{type:"string"},description:{type:"string"},seo:{allOf:[{type:"object",properties:{title:{type:"string"},description:{type:"string"}}},{type:"object",additionalProperties:{}}],default:{}},body:{type:"object",properties:{type:{type:"string"},children:{},toc:{}},required:["type"],additionalProperties:!1},navigation:{anyOf:[{type:"boolean"},{type:"object",properties:{title:{type:"string"},description:{type:"string"},icon:{type:"string",$content:{editor:{input:"icon"}}}},required:["title","description","icon"],additionalProperties:!1}],default:!0},content:{type:"object",properties:{},additionalProperties:!1},images:{type:"array",items:{type:"object",properties:{src:{$content:{editor:{input:"media"}},type:"string"},alt:{type:"string"}},required:["src","alt"],additionalProperties:!1}}},required:["id","stem","extension","meta","path","title","description","body","content","images"],additionalProperties:!1}}},tableDefinition:'CREATE TABLE IF NOT EXISTS _content_about (id TEXT PRIMARY KEY, "title" VARCHAR, "body" TEXT, "content" TEXT, "description" VARCHAR, "extension" VARCHAR, "images" TEXT, "meta" TEXT, "navigation" TEXT DEFAULT true, "path" VARCHAR, "seo" TEXT DEFAULT \'{}\', "stem" VARCHAR, "__hash__" TEXT UNIQUE);'},info:{name:"info",pascalName:"Info",tableName:"_content_info",source:[],type:"data",fields:{},schema:{$ref:"#/definitions/info",definitions:{},$schema:"http://json-schema.org/draft-07/schema#"},tableDefinition:'CREATE TABLE IF NOT EXISTS _content_info (id TEXT PRIMARY KEY, "ready" BOOLEAN, "structureVersion" VARCHAR, "version" VARCHAR, "__hash__" TEXT UNIQUE);'}},Ce=t(!1),ke=(t=>{let e;return i=>(e||(e=t()),e)})(()=>JSON.parse(JSON.stringify(R()))),$e=async t=>{const e=function(t=[],e,i){const s=[...e||[]],n=[...i||[]],r=JSON.parse(JSON.stringify(t));for(const a of s)if(a.new)r.push({path:a.path,parsed:a.parsed});else if(a.oldPath)if(n.splice(n.findIndex(t=>t.path===a.oldPath),1),s.find(t=>t.path===a.oldPath))r.push({path:a.path,parsed:a.parsed});else{const t=r.find(t=>t.path===a.oldPath);t&&(t.path=a.path,a.parsed?t.parsed=a.parsed:a.pathMeta&&["_file","_path","_id","_locale"].forEach(e=>{t.parsed[e]=a.pathMeta[e]}))}else{const t=r.find(t=>t.path===a.path);t?Object.assign(t,{path:a.path,parsed:a.parsed}):r.push({path:a.path,parsed:a.parsed})}for(const a of n)r.splice(r.findIndex(t=>t.path===a.path),1);const o=new Intl.Collator(void 0,{numeric:!0});return r.sort((t,e)=>o.compare(t.path,e.path)),r}(t.files,t.additions,t.deletions),i=e.filter(t=>![Z.appConfig,Z.appConfigV4,Z.nuxtConfig].includes(t.path));for(const n of Object.values(Se)){const t=S(n.name);await t.exec(n.tableDefinition)}for(const n of i)await Me(Se,n);const s=e.find(t=>[Z.appConfig,Z.appConfigV4].includes(t.path));s&&Ne(s.parsed),x(),Ce.value=!0},Me=async(t,e)=>{const{collection:i,matchedSource:s}=Ae(e.path,t);if(!i||!s)return void console.warn(`Content Preview: collection not found for file: ${e.path}, skipping insertion.`);const n=S(i.name),r=xe(i,rt(e,i,s));await n.exec(r)},Ne=t=>{const e=f(),i=j(e,R);st(i,et(t||{},ke)),t||it(i,ke)};function Oe(){const t=_().public.preview||{},e=window.sessionStorage.getItem("previewToken"),i=document.createElement("div");i.id="__nuxt_preview_wrapper",document.body.appendChild(i),g(q,{previewToken:e,api:window.sessionStorage.getItem("previewAPI")||t?.api,initializePreview:$e}).mount(i)}function Le(){const t=f(),e=_().public.preview;if(!window.parent||window.self===window.parent)return;const i=y(),s=A();async function n(){if(!Ce.value)return;const t=s.path,{collection:e}=((t,e)=>{let i;return{collection:Object.values(e).find(e=>{if(e.source&&0!==e.source.length)return i=e.source.find(e=>{if(!e.prefix)return;const i=Q(e.prefix,!0);if(!t.startsWith(i))return;if("/"===t){const s=["index.yml","index.yaml","index.md","index.json"];return("/"===t?s:s.map(t=>w(E(i,t)))).some(t=>{const i=Zt(t,Q(e.include)),s=e.exclude?.some(e=>Zt(t,Q(e)));return i&&!s})}const{fixed:s}=nt(e),n=Q(s||""),r=t.substring(i.length),o=E(n,r),a=t=>t.replace(/\.[^/.]+$/,""),p=Zt(o,a(Q(e.include))),l=e.exclude?.some(t=>Zt(o,a(Q(t))));return p&&!l}),i}),matchedSource:i}})(t,Se);if(!e||"page"!==e.type)return void window.sendNavigateMessageInPreview(t,!1);const i=S(e.name),n=Re(e,"path",t),r=await i.first(n);window.sendNavigateMessageInPreview(t,!!r?.path)}window.addEventListener("keydown",t=>{(t.metaKey||t.ctrlKey||t.altKey||t.shiftKey)&&window.parent.postMessage({type:"nuxt-content:preview:keydown",payload:{key:t.key,metaKey:t.metaKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey}},"*")}),window.addEventListener("message",async t=>{if(!Ce.value)return;const n=e?.iframeMessagingAllowedOrigins?.split(",").map(t=>t.trim())||[];if(!["http://localhost:3000",...Pe,...n].includes(t.origin))return;const{type:r,payload:o={},navigate:a}=t.data||{};switch(r){case"nuxt-content:editor:file-selected":await async function(t){if(!t)return;const{collection:e}=Ae(J(t),Se);if(!e)return void console.warn(`Content Preview: collection not found for file: ${t}, skipping navigation.`);if("page"!==e.type)return;const n=S(e.name),r=tt(t),o=Re(e,"stem",r),a=await n.first(o);if(!a||!a.path)return;const p=i.resolve(a.path);if(!p||!p.matched||0===p.matched.length)return;a.path!==s.path&&i.push(a.path)}(o.path);break;case"nuxt-content:editor:file-changed":case"nuxt-content:editor:media-changed":{const{additions:t=[],deletions:e=[]}=o;for(const i of t)await p(i,a);for(const i of e)await l(i.path);!async function(){await f().hooks.callHookParallel("app:data:refresh")}();break}case"nuxt-content:config:file-changed":{const{additions:t=[],deletions:e=[]}=o,i=t.find(t=>[Z.appConfig,Z.appConfigV4].includes(t.path));i&&Ne(i?.parsed);e.find(t=>[Z.appConfig,Z.appConfigV4].includes(t.path))&&Ne(void 0)}}async function p(t,e){const{collection:n,matchedSource:r}=Ae(t.path,Se);if(!n||!r)return void console.warn(`Content Preview: collection not found for file: ${t.path}, skipping update.`);const o=function(t,e,i){return`${je(t,e)}; ${xe(t,i)}`}(n,tt(t.path),rt({path:t.path,parsed:t.parsed},n,r)),a=S(n.name);if(await a.exec(o),"page"!==n.type||!t.pathRoute)return;const p=v(t.pathRoute);if(e&&p!==s.path){const t=i.resolve(p);if(!t||!t.matched||0===t.matched.length)return;i.push(p)}}async function l(t){const{collection:e}=Ae(J(t),Se);if(!e)return void console.warn(`Content Preview: collection not found for file: ${t}, skipping deletion.`);const i=je(e,tt(t)),s=S(e.name);await s.exec(i)}}),t.hook("page:finish",()=>{n()}),t.hook("nuxt-content:preview:ready",()=>{window.parent.postMessage({type:"nuxt-content:preview:ready"},"*")}),window.sendNavigateMessageInPreview=(t,e)=>{window.parent.postMessage({type:"nuxt-content:preview:navigate",payload:{path:t,navigate:e}},"*")}}export{Le as initIframeCommunication,Oe as mountPreviewUI};
