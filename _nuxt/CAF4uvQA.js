import{ao as e,e as t,ap as a,aq as r,_ as s,h as o,ar as n,ab as i,$ as l,T as c,P as u,as as d,f as p,ae as m,af as g,at as f,ac as v,ad as y,au as h,ah as P,ag as k,am as b,N as x}from"./CgSs_fxe.js";import{_}from"./BOqnddJu.js";import{h as j,M as C}from"./B-eXwzlu.js";import{m as w,ad as I,M as T,P as S,N as L,u as O,ac as q,F as A,G as $,A as D,X as H,Y as R,O as B,ai as M,a8 as E,a9 as G,L as N,H as U,l as z,aj as F,i as W,d as K}from"./BOuGH_in.js";import"./CQ1IkzWa.js";function V(e,t,a=0){const r={title:"label",path:"to"},s=Object.keys(e).reduce((t,a)=>{if(e[a]){t[r[a]||a]=e[a]}return t},{});return Array.isArray(e.children)?s.children=e.children.map(e=>V(e,t,a+1)):s.children=[],s}function X(e,t){return e.map(e=>V(e,t))}function Y(e,t){return e?.length&&t?e.reduce((e,a)=>(t.path&&(t.path+"/").startsWith(a.path+"/")&&a.children&&(e.push(a),e.push(...Y(a.children,t))),e),[]):[]}const J=["ProseA","ProseAccordion","ProseAccordionItem","ProseBadge","ProseBlockquote","ProseCallout","ProseCard","ProseCardGroup","ProseCode","ProseCodeCollapse","ProseCodeGroup","ProseCodeIcon","ProseCodePreview","ProseCodeTree","ProseCollapsible","ProseEm","ProseField","ProseFieldGroup","ProseH1","ProseH2","ProseH3","ProseH4","ProseHr","ProseIcon","ProseImg","ProseKbd","ProseLi","ProseOl","ProseP","ProsePre","ProseScript","ProseSteps","ProseStrong","ProseTable","ProseTabs","ProseTabsItem","ProseTbody","ProseTd","ProseTh","ProseThead","ProseTr","ProseUl","ProseCaution","ProseNote","ProseTip","ProseWarning","ProseH5","ProseH6","Icon"],Q=[],Z=Object.freeze(Object.defineProperty({__proto__:null,globalComponents:J,localComponents:Q},Symbol.toStringTag,{value:"Module"})),ee={__name:"ContentRenderer",props:{value:{type:Object,required:!0},excerpt:{type:Boolean,default:!1},tag:{type:String,default:"div"},components:{type:Object,default:()=>({})},data:{type:Object,default:()=>({})},prose:{type:Boolean,default:void 0},class:{type:[String,Object],default:void 0},unwrap:{type:[Boolean,String],default:!1}},setup(o){const n=["render","ssrRender","__ssrInlineRender"],i=o,l=!1,c=w(()=>{let t=i.value.body||i.value;return i.excerpt&&i.value.excerpt&&(t=i.value.excerpt),"minimal"===t.type||"minimark"===t.type?e({value:t.value}):t}),u=w(()=>!c.value?.children?.length),d=w(()=>{const{body:e,excerpt:t,...a}=i.value;return{...a,...i.data}}),p=Object.fromEntries(["p","a","blockquote","code","pre","code","em","h1","h2","h3","h4","h5","h6","hr","img","ul","ol","li","strong","table","thead","tbody","td","th","tr","script"].map(e=>[e,`prose-${e}`])),{mdc:m}=t().public||{},g=w(()=>({...m?.components?.prose&&!1!==i.prose?p:{},...m?.components?.map||{},...I(i.data?.mdc?.components||{}),...i.components})),f=w(()=>c.value?function(e,t){if(!e)return;const a=Array.from(new Set(y(e,t))),r={};for(const[s,o]of a)r[s]||("object"==typeof o&&n.some(e=>Object.hasOwnProperty.call(o,e))?r[s]=o:r[s]=v(o));return r}(c.value,{tags:g.value}):{});function v(e){let t=e;if("string"==typeof e){if(j.includes(e))return e;if(J.includes(a(e)))t=A(e,!1);else if(Q.includes(a(e))){t=$(()=>s(()=>Promise.resolve().then(()=>Z),void 0,import.meta.url).then(t=>{const r=t[a(e)];return r?r():void 0}))}if("string"==typeof t)return t}if(!t)return t;const r=t;return"__asyncLoader"in r?r:"setup"in r?$(()=>Promise.resolve(r)):r}function y(e,t){const s=e.tag;if("text"===e.type||"binding"===s||"comment"===e.type)return[];const o=function(e,t){const s=e.tag;if(!s||void 0!==e.props?.__ignoreMap)return s;return t[s]||t[a(s)]||t[r(e.tag)]||s}(e,t.tags),n=[];"root"===e.type||j.includes(o)||n.push([s,o]);for(const a of e.children||[])n.push(...y(a,t));return n}return(e,t)=>u.value?S(e.$slots,"empty",{key:1,body:c.value,data:d.value,dataContentId:O(l)?o.value.id:void 0}):(L(),T(C,{key:0,body:c.value,data:d.value,class:q(i.class),tag:i.tag,prose:i.prose,unwrap:i.unwrap,components:f.value,"data-content-id":O(l)?o.value.id:void 0},null,8,["body","data","class","tag","prose","unwrap","components","data-content-id"]))}},te={slots:{root:"grid grid-cols-1 sm:grid-cols-2 gap-8",link:["group block px-6 py-8 rounded-lg border border-default hover:bg-elevated/50 focus-visible:outline-primary","transition-colors"],linkLeading:["inline-flex items-center rounded-full p-1.5 bg-elevated group-hover:bg-primary/10 ring ring-accented mb-4 group-hover:ring-primary/50","transition"],linkLeadingIcon:["size-5 shrink-0 text-highlighted group-hover:text-primary","transition-[color,translate]"],linkTitle:"font-medium text-[15px] text-highlighted mb-1 truncate",linkDescription:"text-sm text-muted line-clamp-2"},variants:{direction:{left:{linkLeadingIcon:["group-active:-translate-x-0.5"]},right:{link:"text-right",linkLeadingIcon:["group-active:translate-x-0.5"]}}}},ae={key:1,class:"hidden lg:block"},re=Object.assign({inheritAttrs:!1},{__name:"UContentSurround",props:{as:{type:null,required:!1},prevIcon:{type:String,required:!1},nextIcon:{type:String,required:!1},surround:{type:Array,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(e){const t=e,a=o(),[r,s]=n({props:{link:Object,icon:String,direction:String}}),d=w(()=>i({extend:i(te),...a.uiPro?.contentSurround||{}})());return(o,n)=>(L(),D(U,null,[H(O(r),null,{default:B(({link:e,icon:a,direction:r})=>[e?(L(),T(l,{key:0,to:e.path,raw:"",class:q(d.value.link({class:[t.ui?.link,e.ui?.link,e.class],direction:r}))},{default:B(()=>[S(o.$slots,"link",{link:e},()=>[M("div",{class:q(d.value.linkLeading({class:[t.ui?.linkLeading,e.ui?.linkLeading]}))},[S(o.$slots,"link-leading",{link:e},()=>[H(c,{name:e.icon||a,class:q(d.value.linkLeadingIcon({class:[t.ui?.linkLeadingIcon,e.ui?.linkLeadingIcon],direction:r}))},null,8,["name","class"])])],2),M("p",{class:q(d.value.linkTitle({class:[t.ui?.linkTitle,e.ui?.linkTitle]}))},[S(o.$slots,"link-title",{link:e},()=>[E(G(e.title),1)])],2),M("p",{class:q(d.value.linkDescription({class:[t.ui?.linkDescription,e.ui?.linkDescription]}))},[S(o.$slots,"link-description",{link:e},()=>[E(G(e.description),1)])],2)])]),_:2},1032,["to","class"])):(L(),D("span",ae,"Â "))]),_:3}),e.surround?(L(),T(O(u),N({key:0,as:e.as},o.$attrs,{class:d.value.root({class:[t.ui?.root,t.class]})}),{default:B(()=>[H(O(s),{link:e.surround[0],icon:e.prevIcon||O(a).ui.icons.arrowLeft,direction:"left"},null,8,["link","icon"]),H(O(s),{link:e.surround[1],icon:e.nextIcon||O(a).ui.icons.arrowRight,direction:"right"},null,8,["link","icon"])]),_:1},16,["as","class"])):R("",!0)],64))}}),se={base:"mt-8 pb-24 space-y-12"},oe={__name:"UPageBody",props:{as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,a=o(),r=w(()=>i({extend:i(se),...a.uiPro?.pageBody||{}}));return(a,s)=>(L(),T(O(u),{as:e.as,class:q(r.value({class:t.class}))},{default:B(()=>[S(a.$slots,"default")]),_:3},8,["as","class"]))}};function ne(e,t="Copied to clipboard"){const a=d();navigator.clipboard.writeText(e).then(()=>{a.add({title:t,color:"success",icon:"i-lucide-check-circle"})})}const ie={class:"flex flex-col gap-3 mt-8"},le={class:"flex text-xs text-muted items-center justify-center gap-2"},ce={key:0},ue={key:1},de={key:2},pe={class:"text-4xl text-center font-medium max-w-3xl mx-auto mt-4"},me={class:"text-muted text-center max-w-2xl mx-auto"},ge={class:"flex items-center justify-center gap-2 mt-2"},fe={class:"flex items-center justify-end gap-2 text-sm text-muted"},ve=z({__name:"[...slug]",async setup(e){let t,a;const r=p(),{data:s}=([t,a]=F(()=>v(r.path,()=>y("blog").path(r.path).first(),"$DquttgHoet")),t=await t,a(),t);if(!s.value)throw m({statusCode:404,statusMessage:"Page not found",fatal:!0});const{data:o}=([t,a]=F(()=>v(`${r.path}-surround`,()=>h("blog",r.path,{fields:["description"]}))),t=await t,a(),t),n=W("navigation",K([])),i=w(()=>n.value.find(e=>"/blog"===e.path)?.children||[]);w(()=>X(Y(i?.value,s.value)).map(({icon:e,...t})=>t)),s.value.image;const u=s.value?.seo?.title||s.value?.title,d=s.value?.seo?.description||s.value?.description;g({title:u,meta:[{name:"description",content:d},{property:"og:description",content:d},{property:"og:title",content:u}]});const j=w(()=>`${window?.location}`);return(e,t)=>{const a=c,r=l,n=b,i=_,u=ee,d=x,p=re,m=oe,g=k,v=P,y=f;return L(),T(y,{class:"mt-20 px-2"},{default:B(()=>[H(v,{class:"relative min-h-screen"},{default:B(()=>[O(s)?(L(),T(g,{key:0},{default:B(()=>{return[H(r,{to:"/blog",class:"text-sm flex items-center gap-1"},{default:B(()=>[H(a,{name:"lucide:chevron-left"}),t[1]||(t[1]=E(" Blog ",-1))]),_:1,__:[1]}),M("div",ie,[M("div",le,[O(s).date?(L(),D("span",ce,G((l=O(s).date,new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}))),1)):R("",!0),O(s).date&&O(s).minRead?(L(),D("span",ue," - ")):R("",!0),O(s).minRead?(L(),D("span",de,G(O(s).minRead)+" MIN READ ",1)):R("",!0)]),H(n,{src:O(s).image,alt:O(s).title,class:"rounded-lg w-full h-[300px] object-cover object-center"},null,8,["src","alt"]),M("h1",pe,G(O(s).title),1),M("p",me,G(O(s).description),1),M("div",ge,[H(i,N({orientation:"vertical",color:"neutral",variant:"outline",class:"justify-center items-center text-center"},O(s).author),null,16)])]),H(m,{class:"max-w-3xl mx-auto"},{default:B(()=>[O(s).body?(L(),T(u,{key:0,value:O(s)},null,8,["value"])):R("",!0),M("div",fe,[H(d,{size:"sm",variant:"link",color:"neutral",label:"Copy link",onClick:t[0]||(t[0]=t=>("copyToClipboard"in e?e.copyToClipboard:O(ne))(O(j),"Article link copied to clipboard"))})]),H(p,{surround:O(o)},null,8,["surround"])]),_:1})];var l}),_:1})):R("",!0)]),_:1})]),_:1})}}});export{ve as default};
